<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name"> | David Vargas</title>
<meta property="og:title" content=" | David Vargas" />
<meta name="twitter:title" content=" | David Vargas" />
<meta itemprop="name" content=" | David Vargas" />
<meta name="application-name" content=" | David Vargas" />
<meta property="og:site_name" content="davidvargas.xyz" />

<meta name="description" content="David Vargas&#39;s blog">
<meta itemprop="description" content="David Vargas&#39;s blog" />
<meta property="og:description" content="David Vargas&#39;s blog" />
<meta name="twitter:description" content="David Vargas&#39;s blog" />

<meta property="og:locale" content="en-us" />
<meta name="language" content="en-us" />

  <link rel="alternate" hreflang="en-gb" href="http://localhost:1313/linux/rhcsa/13.-storage-management/" title="" />






<meta name="generator" content="Hugo 0.134.3">

    
    <meta property="og:url" content="http://localhost:1313/linux/rhcsa/13.-storage-management/">
  <meta property="og:site_name" content="David Vargas">
  <meta property="og:title" content="David Vargas">
  <meta property="og:description" content="Adding Storage for Practice Lab: Add Required Storage to server2 start VirtualBox and add 4x250MB and 1x5GB disks to server2 1. Start VirtualBox on your Windows/Mac computer and highlight the RHEL9-VM2 virtual machine that you created in Lab 1-1. See Figure 13-1.
2. Click Settings at the top and then Storage on the window that pops up. Click on “Controller: SATA” to select it. Figure 13-2.
3. Click on the right-side icon next to “Controller: SATA” to add a hard disk and then click Create (on the Medium Selector screen) ">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="linux">


    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="David Vargas">
  <meta name="twitter:description" content="Adding Storage for Practice Lab: Add Required Storage to server2 start VirtualBox and add 4x250MB and 1x5GB disks to server2 1. Start VirtualBox on your Windows/Mac computer and highlight the RHEL9-VM2 virtual machine that you created in Lab 1-1. See Figure 13-1.
2. Click Settings at the top and then Storage on the window that pops up. Click on “Controller: SATA” to select it. Figure 13-2.
3. Click on the right-side icon next to “Controller: SATA” to add a hard disk and then click Create (on the Medium Selector screen) ">


    

    <link rel="canonical" href="http://localhost:1313/linux/rhcsa/13.-storage-management/">
    <link href="/style.min.1915b95fdbf4046da0032dde0fb966271ed904fa9c019f9a326d7ce001902895.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="http://localhost:1313/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    </head>
<body data-theme = "dark" class="notransition">

<script src="/js/theme.js"></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="http://localhost:1313/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Home</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/">
                        home
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/posts/">
                        posts
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/notes/">
                        notes
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/readings/">
                        readings
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/about">
                        about
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title"></h1>
                
            </header>
            
            <div class="page-content">
                <h2 id="adding-storage-for-practice">Adding Storage for Practice</h2>
<h3 id="lab-add-required-storage-to-server2">Lab: Add Required Storage to server2</h3>
<ul>
<li>start VirtualBox and add 4x250MB and 1x5GB disks to server2</li>
</ul>
<p>1. Start VirtualBox on your Windows/Mac computer and highlight the RHEL9-VM2 virtual machine that you created in Lab 1-1. See Figure 13-1.</p>
<p><img src="/images/Pasted%20image%2020240706043737.png" alt=""></p>
<p>2. Click Settings at the top and then Storage on the window that pops
up. Click on &ldquo;Controller: SATA&rdquo; to select it. Figure 13-2.</p>
<p><img src="/images/Pasted%20image%2020240706043837.png" alt=""></p>
<p>3. Click on the right-side icon next to &ldquo;Controller: SATA&rdquo; to add a hard disk and then click Create (on the Medium Selector screen)
<img src="/images/Pasted%20image%2020240706043958.png" alt=""></p>
<p>4. Follow this sequence to add a 250MB disk: Click Next on the next two screens to select the two defaults for the &ldquo;VDI (Virtualization Disk Image)&rdquo; and &ldquo;Dynamically allocated&rdquo; options. Adjust the size on the third screen to 250MB.</p>
<p>5. Repeat step 4 three more times to create additional disks of the
same size.</p>
<p>6. Repeat step 4 one time to create a disk of size 5GB.</p>
<p>7. On the Medium Selector screen, the five new disks will appear under the Not Attached list of disks. Double-click on each one of them to add to RHEL9-VM2.</p>
<p>8. The final list of disks should look similar to what is shown in Figure 13-6 after the addition of all five disks (RHEL9-VM2_1 to
RHEL9-VM2_5). Disk names may vary.</p>
<p><img src="/images/Pasted%20image%2020240706044207.png" alt=""></p>
<p>9. Click OK to return to the main VirtualBox interface.</p>
<p>10. Power on RHEL9-VM2.</p>
<p>11. When the server is booted up, log on as user1 and run the lsblk command to verify the new storage:</p>
<p>12. The five new disks added to server2 are 250MB (sdb, sdc, sdd, and sde) and 5GB (sdf).</p>
<h2 id="partition-information-mbr-and-gpt">Partition Information (MBR and GPT)</h2>
<ul>
<li>Partition information is stored on the disk in a small region.</li>
<li>Read by the operating system at boot time.</li>
<li>Master Boot Record (MBR) on the BIOS-based systems</li>
<li>GUID Partition Table (GPT) on the UEFI-based systems.</li>
<li>At system boot, the BIOS/UEFI:
<ul>
<li>scans all storage devices,</li>
<li>detects the presence of MBR/GPT areas,</li>
<li>identifies the boot disks,</li>
<li>loads the bootloader program in memory from the default boot disk,</li>
<li>executes the boot code to read the partition table and identify the /boot partition,</li>
<li>loads the kernel in memory, and passes control over to it.</li>
</ul>
</li>
<li>MBR and GPT store disk partition information and the boot code.</li>
</ul>
<h3 id="master-boot-record-mbr">Master Boot Record (MBR)</h3>
<ul>
<li>
<p>Resides on the first sector of the boot disk.</p>
</li>
<li>
<p>was the preferred choice for saving partition table information on x86-based computers.</p>
</li>
<li>
<p>with the arrival of bigger and larger hard drives, a new firmware specification (UEFI) was introduced.</p>
</li>
<li>
<p>still widely used, but its use is diminishing in favor of UEFI.</p>
</li>
<li>
<p>allows the creation of three types of partition on a single disk.</p>
</li>
<li>
<p><strong>primary</strong>, <strong>extended</strong>, and <strong>logica</strong>l</p>
</li>
<li>
<p>only <strong>primary</strong> and <strong>logical</strong> can be used for data storage</p>
</li>
<li>
<p><strong>extended</strong> is a mere enclosure for holding the logical partitions and it is not meant for data storage.</p>
</li>
<li>
<p>supports the creation of up to four <strong>primary</strong> partitions numbered 1 through 4 at a time.</p>
</li>
<li>
<p>In case additional partitions are required, one of the <strong>primary</strong> partitions must be deleted and replaced with an <strong>extended</strong> partition to be able to add logical partitions (up to 11) within that <strong>extended</strong> partition.</p>
</li>
<li>
<p>Numbering for logical partitions begins at 5.</p>
</li>
<li>
<p>supports a maximum of 14 usable partitions (3 primary and 11 logical) on a single disk.</p>
</li>
<li>
<p>Cannot address storage space beyond 2TB due to its 32-bit nature and its 512-byte disk sector size.</p>
</li>
<li>
<p>non-redundant; the record it contains is not replicated, resulting in an unbootable system in the event of corruption.</p>
</li>
<li>
<p>If your disk is smaller than 2TB and you don&rsquo;t intend to build more than 14 usable partitions, you can use MBR without issues.</p>
</li>
</ul>
<h3 id="guid-partition-table-gpt">GUID Partition Table (GPT)</h3>
<ul>
<li>ability to construct up to 128 partitions (no concept of extended or logical partitions)</li>
<li>utilize disks larger than 2TB</li>
<li>use 4KB sector size</li>
<li>store a copy of the partition information before the end of the disk for redundancy</li>
<li>allows a BIOS-based system to boot from a GPT disk using the bootloader program stored in a protective MBR at the first disk sector</li>
<li>UEFI firmware also supports the secure boot feature, which only allows signed binaries to boot</li>
</ul>
<h3 id="mbr-storage-management-with-parted">MBR Storage Management with parted</h3>
<p><strong>parted</strong> (partition editor)</p>
<ul>
<li>can be used to partition disks</li>
<li>run interactively or directly from the command prompt.</li>
<li>understands and supports both MBR and GPT schemes</li>
<li>can be used to create up to 128 partitions on a single GPT disk</li>
<li>viewing, labeling, adding, naming, and deleting partitions.</li>
</ul>
<p><strong>print</strong>                            <br>
Displays the partition table that includes disk geometry and partition number, start and end, size, type, file system type, and relevant flags.</p>
<p><strong>mklabel</strong>                          <br>
Applies a label to the disk. Common labels are gpt and msdos.</p>
<p><strong>mkpart</strong>                           <br>
Makes a new partition</p>
<p><strong>name</strong>                             <br>
Assigns a name to a partition</p>
<p><strong>rm</strong>                               <br>
Removes the specified partition</p>
<ul>
<li>use the <code>print</code> subcommand to ensure you created what you wanted.</li>
<li>/proc/partitions file is also updated to reflect the results of partition management operations.</li>
</ul>
<h3 id="lab-create-an-mbr-partition-server2">Lab: Create an MBR Partition (server2)</h3>
<ul>
<li>Assign partition type &ldquo;msdos&rdquo; to /dev/sdb for using it as an MBR disk</li>
<li>create and confirm a 100MB primary partition on the disk.</li>
</ul>
<p>1. Execute parted on /dev/sdb to view the current partition information:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb print</span>
</span></span><span class="line"><span class="cl">Error: /dev/sdb: unrecognised disk label
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>                                           
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: unknown
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span></code></pre></div><p>There is an error on line 1 of the output, indicating an unrecognized label.
disk must be labeled before it can be partitioned.</p>
<p>2. Assign disk label &ldquo;msdos&rdquo; to the disk with mklabel. This operation
is performed only once on a disk.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mklabel msdos</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb print                              </span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start  End  Size  Type  File system  Flags
</span></span></code></pre></div><p>To use the GPT partition table type, run &ldquo;sudo parted /dev/sdb mklabel gpt&rdquo; instead.</p>
<p>3. Create a 100MB primary partition starting at 1MB (beginning of the disk) using mkpart:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mkpart primary 1 101m</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>4. Verify the new partition with print:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb print                              </span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End    Size    Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  101MB  99.6MB  primary
</span></span></code></pre></div><p>Partition numbering begins at 1 by default.</p>
<p>5. Confirm the new partition with the <code>lsblk</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk /dev/sdb</span>
</span></span><span class="line"><span class="cl">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sdb      8:16   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">└─sdb1   8:17   <span class="m">0</span>   95M  <span class="m">0</span> part 
</span></span></code></pre></div><p>The device file for the first partition on the sdb disk is sdb1 as identified on the bottom line.
The partition size is 95MB.</p>
<p>Different tools will have variance in reporting partition sizes.  ignore minor differences.</p>
<p>6. Check the /proc/partitions file also:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># cat /proc/partitions | grep sdb</span>
</span></span><span class="line"><span class="cl">   <span class="m">8</span>       <span class="m">16</span>     <span class="m">256000</span> sdb
</span></span><span class="line"><span class="cl">   <span class="m">8</span>       <span class="m">17</span>      <span class="m">97280</span> sdb1
</span></span></code></pre></div><h3 id="exercise-13-3-delete-an-mbr-partition-server2">Exercise 13-3: Delete an MBR Partition (server2)</h3>
<p>delete the sdb1 partition that was created in Exercise 13-2
confirm the deletion.</p>
<p>1. Execute parted on /dev/sdb with the rm subcommand to remove partition number 1:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb rm 1</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>2. Confirm the partition deletion with print:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb print                              </span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start  End  Size  Type  File system  Flags
</span></span></code></pre></div><p>3. Check the /proc/partitions file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># cat /proc/partitions | grep sdb</span>
</span></span><span class="line"><span class="cl">   <span class="m">8</span>       <span class="m">16</span>     <span class="m">256000</span> sdb
</span></span></code></pre></div><p>can also run the <code>lsblk</code> command for further verification. T</p>
<p>EXAM TIP: Knowing either parted or gdisk for the exam is enough.</p>
<h3 id="gpt-storage-management-with-gdisk">GPT Storage Management with gdisk</h3>
<h3 id="gdisk-gpt-disk-command"><code>gdisk</code> (GPT disk) Command</h3>
<ul>
<li>
<p>partitions disks using the GPT format.</p>
</li>
<li>
<p>text-based, menu-driven program</p>
</li>
<li>
<p>show, add, verify, modify, and delete partitions</p>
</li>
<li>
<p>can create up to 128 partitions on a single disk on systems with UEFI firmware.</p>
</li>
<li>
<p>Main interface of <code>gdisk</code> can be invoked by specifying a disk device name such as /dev/sdc with the command.
Type help or ? (question mark) at the prompt to view available subcommands.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo gdisk /dev/sdc</span>
</span></span><span class="line"><span class="cl">GPT fdisk <span class="o">(</span>gdisk<span class="o">)</span> version 1.0.7
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Partition table scan:
</span></span><span class="line"><span class="cl">  MBR: not present
</span></span><span class="line"><span class="cl">  BSD: not present
</span></span><span class="line"><span class="cl">  APM: not present
</span></span><span class="line"><span class="cl">  GPT: not present
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Creating new GPT entries in memory.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: ?
</span></span><span class="line"><span class="cl">b	back up GPT data to a file
</span></span><span class="line"><span class="cl">c	change a partition<span class="s1">&#39;s name
</span></span></span><span class="line"><span class="cl"><span class="s1">d	delete a partition
</span></span></span><span class="line"><span class="cl"><span class="s1">i	show detailed information on a partition
</span></span></span><span class="line"><span class="cl"><span class="s1">l	list known partition types
</span></span></span><span class="line"><span class="cl"><span class="s1">n	add a new partition
</span></span></span><span class="line"><span class="cl"><span class="s1">o	create a new empty GUID partition table (GPT)
</span></span></span><span class="line"><span class="cl"><span class="s1">p	print the partition table
</span></span></span><span class="line"><span class="cl"><span class="s1">q	quit without saving changes
</span></span></span><span class="line"><span class="cl"><span class="s1">r	recovery and transformation options (experts only)
</span></span></span><span class="line"><span class="cl"><span class="s1">s	sort partitions
</span></span></span><span class="line"><span class="cl"><span class="s1">t	change a partition&#39;</span>s <span class="nb">type</span> code
</span></span><span class="line"><span class="cl">v	verify disk
</span></span><span class="line"><span class="cl">w	write table to disk and <span class="nb">exit</span>
</span></span><span class="line"><span class="cl">x	extra functionality <span class="o">(</span>experts only<span class="o">)</span>
</span></span><span class="line"><span class="cl">?	print this menu
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: 
</span></span></code></pre></div><h3 id="exercise-13-4-create-a-gpt-partition-server2">Exercise 13-4: Create a GPT Partition (server2)</h3>
<ul>
<li>Assign partition type &ldquo;gpt&rdquo; to /dev/sdc for using it as a GPT disk.</li>
<li>create and confirm a 200MB partition on the disk.</li>
</ul>
<p>1. Execute gdisk on /dev/sdc to view the current partition information:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo gdisk /dev/sdc</span>
</span></span><span class="line"><span class="cl">GPT fdisk <span class="o">(</span>gdisk<span class="o">)</span> version 1.0.7
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Partition table scan:
</span></span><span class="line"><span class="cl">  MBR: not present
</span></span><span class="line"><span class="cl">  BSD: not present
</span></span><span class="line"><span class="cl">  APM: not present
</span></span><span class="line"><span class="cl">  GPT: not present
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Creating new GPT entries in memory.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>:
</span></span></code></pre></div><p>The disk currently does not have any partition table on it.</p>
<p>2. Assign &ldquo;gpt&rdquo; as the partition table type to the disk using the o subcommand. Enter &ldquo;y&rdquo; for confirmation to proceed. This operation is
performed only once on a disk.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: o
</span></span><span class="line"><span class="cl">This option deletes all partitions and creates a new protective MBR.
</span></span><span class="line"><span class="cl">Proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span></code></pre></div><p>3. Run the p subcommand to view disk information and confirm the GUID
partition table creation:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sdc: <span class="m">512000</span> sectors, 250.0 MiB
</span></span><span class="line"><span class="cl">Model: VBOX HARDDISK   
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512/512 bytes
</span></span><span class="line"><span class="cl">Disk identifier <span class="o">(</span>GUID<span class="o">)</span>: 9446222A-28AC-4F96-816F-518510F95019
</span></span><span class="line"><span class="cl">Partition table holds up to <span class="m">128</span> entries
</span></span><span class="line"><span class="cl">Main partition table begins at sector <span class="m">2</span> and ends at sector <span class="m">33</span>
</span></span><span class="line"><span class="cl">First usable sector is 34, last usable sector is <span class="m">511966</span>
</span></span><span class="line"><span class="cl">Partitions will be aligned on 2048-sector boundaries
</span></span><span class="line"><span class="cl">Total free space is <span class="m">511933</span> sectors <span class="o">(</span>250.0 MiB<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start <span class="o">(</span>sector<span class="o">)</span>    End <span class="o">(</span>sector<span class="o">)</span>  Size       Code  Name
</span></span></code></pre></div><p>The output returns the assigned GUID and states that the partition table can hold up to 128 partition entries.</p>
<p>4. Create the first partition of size 200MB starting at the default sector with default type &ldquo;Linux filesystem&rdquo; using the n subcommand:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
</span></span><span class="line"><span class="cl">Partition number <span class="o">(</span>1-128, default 1<span class="o">)</span>: 
</span></span><span class="line"><span class="cl">First sector <span class="o">(</span>34-511966, <span class="nv">default</span> <span class="o">=</span> 2048<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: 
</span></span><span class="line"><span class="cl">Last sector <span class="o">(</span>2048-511966, <span class="nv">default</span> <span class="o">=</span> 511966<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: +200M
</span></span><span class="line"><span class="cl">Current <span class="nb">type</span> is <span class="m">8300</span> <span class="o">(</span>Linux filesystem<span class="o">)</span>
</span></span><span class="line"><span class="cl">Hex code or GUID <span class="o">(</span>L to show codes, <span class="nv">Enter</span> <span class="o">=</span> 8300<span class="o">)</span>: 
</span></span><span class="line"><span class="cl">Changed <span class="nb">type</span> of partition to <span class="s1">&#39;Linux filesystem&#39;</span>
</span></span></code></pre></div><p>5. Verify the new partition with p:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sdc: <span class="m">512000</span> sectors, 250.0 MiB
</span></span><span class="line"><span class="cl">Model: VBOX HARDDISK   
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512/512 bytes
</span></span><span class="line"><span class="cl">Disk identifier <span class="o">(</span>GUID<span class="o">)</span>: 9446222A-28AC-4F96-816F-518510F95019
</span></span><span class="line"><span class="cl">Partition table holds up to <span class="m">128</span> entries
</span></span><span class="line"><span class="cl">Main partition table begins at sector <span class="m">2</span> and ends at sector <span class="m">33</span>
</span></span><span class="line"><span class="cl">First usable sector is 34, last usable sector is <span class="m">511966</span>
</span></span><span class="line"><span class="cl">Partitions will be aligned on 2048-sector boundaries
</span></span><span class="line"><span class="cl">Total free space is <span class="m">102333</span> sectors <span class="o">(</span>50.0 MiB<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start <span class="o">(</span>sector<span class="o">)</span>    End <span class="o">(</span>sector<span class="o">)</span>  Size       Code  Name
</span></span><span class="line"><span class="cl">   <span class="m">1</span>            <span class="m">2048</span>          <span class="m">411647</span>   200.0 MiB   <span class="m">8300</span>  Linux filesystem
</span></span></code></pre></div><p>6. Run w to write the partition information to the partition table and exit out of the interface. Enter &ldquo;y&rdquo; to confirm when prompted.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: w
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
</span></span><span class="line"><span class="cl">PARTITIONS!!
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Do you want to proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span><span class="line"><span class="cl">OK<span class="p">;</span> writing new GUID partition table <span class="o">(</span>GPT<span class="o">)</span> to /dev/sdc.
</span></span><span class="line"><span class="cl">The operation has completed successfully.
</span></span></code></pre></div><p>You may need to run the <code>partprobe</code> command after exiting the gdisk utility to inform the kernel of partition table changes.</p>
<p>7. Verify the new partition by issuing either of the following at the command prompt:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># grep sdc /proc/partitions</span>
</span></span><span class="line"><span class="cl">   <span class="m">8</span>       <span class="m">32</span>     <span class="m">256000</span> sdc
</span></span><span class="line"><span class="cl">   <span class="m">8</span>       <span class="m">33</span>     <span class="m">204800</span> sdc1
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk /dev/sdc</span>
</span></span><span class="line"><span class="cl">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sdc      8:32   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">└─sdc1   8:33   <span class="m">0</span>  200M  <span class="m">0</span> part 
</span></span></code></pre></div><h3 id="exercise-13-5-delete-a-gpt-partitionserver2">Exercise 13-5: Delete a GPT Partition(server2)</h3>
<ul>
<li>Delete the sdc1 partition that was created in Exercise 13-4 and confirm the removal.</li>
</ul>
<p>1. Execute gdisk on /dev/sdc and run d1 at the utility&rsquo;s prompt to delete partition number 1:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># gdisk /dev/sdc</span>
</span></span><span class="line"><span class="cl">GPT fdisk <span class="o">(</span>gdisk<span class="o">)</span> version 1.0.7
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Partition table scan:
</span></span><span class="line"><span class="cl">  MBR: protective
</span></span><span class="line"><span class="cl">  BSD: not present
</span></span><span class="line"><span class="cl">  APM: not present
</span></span><span class="line"><span class="cl">  GPT: present
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Found valid GPT with protective MBR<span class="p">;</span> using GPT.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: d1
</span></span><span class="line"><span class="cl">Using <span class="m">1</span>
</span></span></code></pre></div><p>2. Confirm the partition deletion with p:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sdc: <span class="m">512000</span> sectors, 250.0 MiB
</span></span><span class="line"><span class="cl">Model: VBOX HARDDISK   
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512/512 bytes
</span></span><span class="line"><span class="cl">Disk identifier <span class="o">(</span>GUID<span class="o">)</span>: 9446222A-28AC-4F96-816F-518510F95019
</span></span><span class="line"><span class="cl">Partition table holds up to <span class="m">128</span> entries
</span></span><span class="line"><span class="cl">Main partition table begins at sector <span class="m">2</span> and ends at sector <span class="m">33</span>
</span></span><span class="line"><span class="cl">First usable sector is 34, last usable sector is <span class="m">511966</span>
</span></span><span class="line"><span class="cl">Partitions will be aligned on 2048-sector boundaries
</span></span><span class="line"><span class="cl">Total free space is <span class="m">511933</span> sectors <span class="o">(</span>250.0 MiB<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start <span class="o">(</span>sector<span class="o">)</span>    End <span class="o">(</span>sector<span class="o">)</span>  Size       Code  Name
</span></span></code></pre></div><p>3. Write the updated partition information to the disk with w and quit gdisk:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: w
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
</span></span><span class="line"><span class="cl">PARTITIONS!!
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Do you want to proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span><span class="line"><span class="cl">OK<span class="p">;</span> writing new GUID partition table <span class="o">(</span>GPT<span class="o">)</span> to /dev/sdc.
</span></span><span class="line"><span class="cl">The operation has completed successfully.
</span></span></code></pre></div><p>4. Verify the partition deletion by issuing either of the following at
the command prompt:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># grep sdc /proc/partitions</span>
</span></span><span class="line"><span class="cl">   <span class="m">8</span>       <span class="m">32</span>     <span class="m">256000</span> sdc
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk /dev/sdc</span>
</span></span><span class="line"><span class="cl">NAME MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sdc    8:32   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span></code></pre></div><h2 id="disk-partitions">Disk Partitions</h2>
<ul>
<li>Be careful when adding a new partition to elude data corruption with overlapping an extant partition or wasting storage by leaving unused space between adjacent partitions.</li>
<li>Disk allocated at the time of installation is recognized as sda (s for SATA, SAS, or SCSI device) disk a,  first partition identified as sda1 and the second partition as sda2.</li>
<li>Any subsequent disks added to the system will be known as sdb, sdc, sdd, and so on, and will use 1, 2, 3, etc. for partition numbering.</li>
</ul>
<p>Use <code>lsblk</code> to list disk and partition information.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server1 ~<span class="o">]</span><span class="c1"># lsblk</span>
</span></span><span class="line"><span class="cl">NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sda             8:0    <span class="m">0</span>   10G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">├─sda1          8:1    <span class="m">0</span>    1G  <span class="m">0</span> part /boot
</span></span><span class="line"><span class="cl">└─sda2          8:2    <span class="m">0</span>    9G  <span class="m">0</span> part 
</span></span><span class="line"><span class="cl">  ├─rhel-root 253:0    <span class="m">0</span>    8G  <span class="m">0</span> lvm  /
</span></span><span class="line"><span class="cl">  └─rhel-swap 253:1    <span class="m">0</span>    1G  <span class="m">0</span> lvm  <span class="o">[</span>SWAP<span class="o">]</span>
</span></span><span class="line"><span class="cl">sr0            11:0    <span class="m">1</span>  9.8G  <span class="m">0</span> rom  /mnt
</span></span></code></pre></div><p>sr0 represents the ISO image mounted as an optical medium:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server1 ~<span class="o">]</span><span class="c1"># sudo fdisk -l</span>
</span></span><span class="line"><span class="cl">Disk /dev/sda: <span class="m">10</span> GiB, <span class="m">10737418240</span> bytes, <span class="m">20971520</span> sectors
</span></span><span class="line"><span class="cl">Disk model: VBOX HARDDISK   
</span></span><span class="line"><span class="cl">Units: sectors of <span class="m">1</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">Disklabel type: dos
</span></span><span class="line"><span class="cl">Disk identifier: 0xfc8b3804
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Device     Boot   Start      End  Sectors Size Id Type
</span></span><span class="line"><span class="cl">/dev/sda1  *       <span class="m">2048</span>  <span class="m">2099199</span>  <span class="m">2097152</span>   1G <span class="m">83</span> Linux
</span></span><span class="line"><span class="cl">/dev/sda2       <span class="m">2099200</span> <span class="m">20971519</span> <span class="m">18872320</span>   9G 8e Linux LVM
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk /dev/mapper/rhel-root: <span class="m">8</span> GiB, <span class="m">8585740288</span> bytes, <span class="m">16769024</span> sectors
</span></span><span class="line"><span class="cl">Units: sectors of <span class="m">1</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Disk /dev/mapper/rhel-swap: <span class="m">1</span> GiB, <span class="m">1073741824</span> bytes, <span class="m">2097152</span> sectors
</span></span><span class="line"><span class="cl">Units: sectors of <span class="m">1</span> * <span class="nv">512</span> <span class="o">=</span> <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span><span class="line"><span class="cl">I/O size <span class="o">(</span>minimum/optimal<span class="o">)</span>: <span class="m">512</span> bytes / <span class="m">512</span> bytes
</span></span></code></pre></div><p>identifiers 83 and 8e are hexadecimal values for the partition types</p>
<h3 id="storage-management-tools">Storage Management Tools</h3>
<p><code>parted</code>, <code>gdisk</code>, and <code>LVM</code>
Partitions created with a combination of most of these tools and toolsets can coexist on the same disk.</p>
<p><code>parted</code>
understands both MBR and GPT formats.</p>
<p><code>gdisk</code></p>
<ul>
<li>support the GPT format only</li>
<li>may be used as a replacement of parted.</li>
</ul>
<p><code>LVM</code></p>
<ul>
<li>feature-rich logical volume management solution that gives flexibility in storage management.</li>
</ul>
<h2 id="thin-provisioning">Thin Provisioning</h2>
<ul>
<li>Allows for an economical allocation and utilization of storage space by moving arbitrary data blocks to contiguous locations, which results in empty block elimination.</li>
<li>Can create a thin pool of storage space and assign volumes much larger storage space than the physical capacity of the pool.</li>
<li>Workloads begin consuming the actual allocated space for data writing.</li>
<li>When a preset custom threshold (80%, for instance) on the actual consumption of the physical storage in the pool is reached, expand the pool dynamically by adding more physical storage to it.</li>
<li>The volumes will automatically start exploiting the new space right away.</li>
<li>helps prevent spending more money upfront.</li>
</ul>
<h2 id="logical-volume-manager-lvm">Logical Volume Manager (LVM)</h2>
<ul>
<li>Used for managing block storage in Linux.</li>
<li>Provides an abstraction layer between the physical storage and the file system</li>
<li>Enables the file system to be resized, span across multiple disks, use arbitrary disk space, etc.</li>
<li>Accumulates spaces taken from partitions or entire disks (called Physical Volumes) to form a logical container (called Volume Group) which is then divided into logical partitions (called Logical Volumes).</li>
<li>online resizing of volume groups and logical volumes,</li>
<li>online data migration between logical volumes and between physical volumes</li>
<li>user-defined naming for volume groups and logical volumes</li>
<li>mirroring and striping across multiple disks</li>
<li>snapshotting of logical volumes.</li>
</ul>
<p><img src="davidvargasxyz.github.io/docs/images/image-0A8W8M1U.jpg" alt=""></p>
<ul>
<li>Made up of three key objects called physical volume, volume group, and logical volume.</li>
<li>These objects are further virtually broken down into Physical Extents (PEs) and Logical Extents (LEs).</li>
</ul>
<p><strong>Physical Volume(PV)</strong></p>
<ul>
<li>created when a block storage device such as a partition or an entire disk is initialized and brought under LVM control.</li>
<li>This process constructs LVM data structures on the device, including a label on the second sector and metadata shortly thereafter.</li>
<li>The label includes the UUID, size, and pointers to the locations of data and metadata areas.</li>
<li>Given the criticality of metadata, LVM stores a copy of it at the end of the physical volume as well.</li>
<li>The rest of the device space is available for use.</li>
</ul>
<p>You can use an LVM command called <code>pvs</code> (physical volume scan or summary) to scan and list available physical volumes on server2:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvs</span>
</span></span><span class="line"><span class="cl">  PV         VG   Fmt  Attr PSize   PFree
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel lvm2 a--  &lt;19.00g    <span class="m">0</span>
</span></span></code></pre></div><ul>
<li>(a for allocatable under Attr)</li>
</ul>
<p>Try running this command again with the -v flag to view more information
about the physical volume.</p>
<p><strong>Volume Group</strong></p>
<ul>
<li>Created when at least one physical volume is added to it.</li>
<li>The space from all physical volumes in a volume group is aggregated to form one large pool of storage, which is then used to build logical volumes.</li>
<li>Physical volumes added to a volume group may be of varying sizes.</li>
<li>LVM writes volume group metadata on each physical volume that is added to it.</li>
<li>The volume group metadata contains its name,date, and time of creation, how it was created, the extent size used, a list of physical and logical volumes, a mapping of physical and logical extents, etc.</li>
<li>Can have a custom name assigned to it at the time of its creation.</li>
<li>A copy of the volume group metadata is stored and maintained at two distinct locations on each physical volume within the volume group.</li>
</ul>
<p>Use <code>vgs</code> (volume group scan or summary) to scan and list available volume groups on server2:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgs</span>
</span></span><span class="line"><span class="cl">  VG   <span class="c1">#PV #LV #SN Attr   VSize   VFree</span>
</span></span><span class="line"><span class="cl">  rhel   <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g    <span class="m">0</span>
</span></span></code></pre></div><ul>
<li>Status of the volume group under the Attr column (w for writeable, z for resizable, and n for normal),</li>
</ul>
<p>Try running this command again with the -v flag to view more information
about the volume group.</p>
<h3 id="physical-extent">Physical Extent</h3>
<ul>
<li>A physical volume is divided into several smaller logical pieces when it is added to a volume group.</li>
<li>These logical pieces are known as Physical Extents (PE).</li>
<li>An extent is the smallest allocatable unit of space in LVM.</li>
<li>At the time of volume group creation, you can either define the size of the PE or leave it to the default value of 4MB.</li>
<li>This implies that a 20GB physical volume would have approximately 5,000 PEs.</li>
<li>Any physical volumes added to this volume group thereafter will use the same PE size.</li>
</ul>
<p>Use <code>vgdisplay</code> (volume group display) on server2 and grep for &lsquo;PE Size&rsquo; to view the PE size used in the rhel volume group:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay rhel | grep &#39;PE Size&#39;</span>
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span></code></pre></div><h3 id="logical-volume">Logical Volume</h3>
<ul>
<li>A volume group consists of a pool of storage taken from one or more physical volumes.</li>
<li>This volume group space is used to create one or more Logical Volumes (LVs).</li>
<li>A logical volume can be created or weeded out online, expanded or shrunk online, and can use space taken from one or multiple physical volumes inside the volume group.</li>
</ul>
<p>The default naming convention used for logical volumes is lvol0, lvol1,
lvol2, and so on you may assign custom names to them.</p>
<p>Use <code>lvs</code> (logical volume scan or summary) to scan and list available logical volumes on server2:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvs</span>
</span></span><span class="line"><span class="cl">  LV   VG   Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root rhel -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap rhel -wi-ao----   2.00g
</span></span></code></pre></div><ul>
<li>Attr column (w for writeable, i for inherited allocation policy, a for active, and o for open) and their sizes.</li>
</ul>
<p>Try running this command again with the -v flag to view more information about the logical volumes.</p>
<h3 id="logical-extent">Logical Extent</h3>
<ul>
<li>A logical volume is made up of Logical Extents (LE).</li>
<li>Logical extents point to physical extents, and they may be random or contiguous.</li>
<li>The larger a logical volume is, the more logical extents it will have.</li>
<li>Logical extents are a set of physical extents allocated to a logical volume.</li>
<li>The LE size is always the same as the PE size in a volume group.</li>
<li>The default LE size is 4MB, which corresponds to the default PE size of 4MB.</li>
</ul>
<p>Use <code>lvdisplay</code> (logical volume display) on server2 to view information about the root logical volume in the rhel volume group.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server30 ~<span class="o">]</span><span class="c1"># lvdisplay /dev/rhel/root</span>
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/rhel/root
</span></span><span class="line"><span class="cl">  LV Name                root
</span></span><span class="line"><span class="cl">  VG Name                rhel
</span></span><span class="line"><span class="cl">  LV UUID                DhHyeI-VgwM-w75t-vRcC-5irj-AuHC-neryQf
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> localhost.localdomain, 2024-07-08 17:32:18 -0700
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 1</span>
</span></span><span class="line"><span class="cl">  LV Size                &lt;17.00 GiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">4351</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:0
</span></span></code></pre></div><ul>
<li>The output does not disclose the LE size;  however, you can convert the LV size in MBs (17,000) and then divide the result by the Current LE count (4,351) to get the LE size (which comes close to 4MB).</li>
</ul>
<h3 id="lvm-operations-and-commands">LVM Operations and Commands</h3>
<ul>
<li>Creating and removing a physical volume, volume group, and logical volume</li>
<li>Extending and reducing a volume group and logical volume</li>
<li>Renaming a volume group and logical volume</li>
<li>listing and displaying physical volume, volume group, and logical volume information.</li>
</ul>
<h3 id="create-and-remove-operations">Create and Remove Operations</h3>
<p><code>pvcreate</code>/<code>pvremove</code></p>
<ul>
<li>Initializes/uninitializes a disk or partition for LVM use</li>
</ul>
<p><code>vgcreate</code>/<code>vgremove</code></p>
<ul>
<li>Creates/removes a volume group</li>
</ul>
<p><code>lvcreate</code>/<code>lvremove</code></p>
<ul>
<li>Creates/removes a logical volume</li>
</ul>
<h3 id="extend-and-reduce-operations">Extend and Reduce Operations</h3>
<p><code>vgextend</code>/<code>vgreduce</code></p>
<ul>
<li>Adds/removes a physical volume to/from a volume group</li>
</ul>
<p><code>lvextend</code>/<code>lvreduce</code></p>
<ul>
<li>Extends/reduces the size of a logical volume</li>
</ul>
<p><code>lvresize</code></p>
<ul>
<li>Resizes a logical volume. With the <code>-r</code> option, this command calls the <code>fsadm</code> command to resize the underlying file system as well.</li>
</ul>
<h3 id="rename-operations">Rename Operations</h3>
<p><code>vgrename</code></p>
<ul>
<li>Rename a volume group</li>
</ul>
<p><code>lvrename</code></p>
<ul>
<li>Rename a logical volume</li>
</ul>
<h3 id="list-and-display-operations">List and Display Operations</h3>
<p><code>pvs</code>/<code>pvdisplay</code></p>
<ul>
<li>Lists/displays physical volume information</li>
</ul>
<p><code>vgs</code>/<code>vgdisplay</code> <code>lvs</code>/<code>lvdisplay</code></p>
<ul>
<li>
<p>Lists/displays volume group information Lists/displays logical volume information</p>
</li>
<li>
<p>All the tools accept the -v switch to support verbosity.</p>
</li>
</ul>
<h3 id="exercise-13-6-create-physical-volume-and-volume-group-server2">Exercise 13-6: Create Physical Volume and Volume Group (server2)</h3>
<ul>
<li>initialize one partition sdd1 (90MB) and one disk sde (250MB) for use in LVM.</li>
<li>create a volume group called vgbook and add both physical volumes to it use the PE size of 16MB</li>
<li>list and display the volume group and the physical volumes.</li>
</ul>
<p>1. Create a partition of size 90MB on sdd using the parted command and confirm. You need to label the disk first, as it is a new disk.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd mklabel msdos</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd mkpart primary 1 91m               </span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd print                              </span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdd: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End     Size    Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  91.2MB  90.2MB  primary
</span></span></code></pre></div><p>2. Initialize the sdd1 partition and the sde disk using the <code>pvcreate</code> command. Note that there is no need to apply a disk label on sde with parted as LVM does not require it.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdd1 /dev/sde -v</span>
</span></span><span class="line"><span class="cl">  Wiping signatures on new PV /dev/sdd1.
</span></span><span class="line"><span class="cl">  Wiping signatures on new PV /dev/sde.
</span></span><span class="line"><span class="cl">  Set up physical volume <span class="k">for</span> <span class="s2">&#34;/dev/sdd1&#34;</span> with <span class="m">176128</span> available sectors.
</span></span><span class="line"><span class="cl">  Zeroing start of device /dev/sdd1.
</span></span><span class="line"><span class="cl">  Writing physical volume data to disk <span class="s2">&#34;/dev/sdd1&#34;</span>.
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdd1&#34;</span> successfully created.
</span></span><span class="line"><span class="cl">  Set up physical volume <span class="k">for</span> <span class="s2">&#34;/dev/sde&#34;</span> with <span class="m">512000</span> available sectors.
</span></span><span class="line"><span class="cl">  Zeroing start of device /dev/sde.
</span></span><span class="line"><span class="cl">  Writing physical volume data to disk <span class="s2">&#34;/dev/sde&#34;</span>.
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sde&#34;</span> successfully created.
</span></span></code></pre></div><p>3. Create vgbook volume group using the <code>vgcreate</code> command and add the two physical volumes to it. Use the -s option to specify the PE size in
MBs.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgcreate -vs 16 vgbook /dev/sdd1 /dev/sde</span>
</span></span><span class="line"><span class="cl">  Wiping signatures on new PV /dev/sdd1.
</span></span><span class="line"><span class="cl">  Wiping signatures on new PV /dev/sde.
</span></span><span class="line"><span class="cl">  Adding physical volume <span class="s1">&#39;/dev/sdd1&#39;</span> to volume group <span class="s1">&#39;vgbook&#39;</span>
</span></span><span class="line"><span class="cl">  Adding physical volume <span class="s1">&#39;/dev/sde&#39;</span> to volume group <span class="s1">&#39;vgbook&#39;</span>
</span></span><span class="line"><span class="cl">  Creating volume group backup <span class="s2">&#34;/etc/lvm/backup/vgbook&#34;</span> <span class="o">(</span>seqno 1<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgbook&#34;</span> successfully created
</span></span></code></pre></div><p>4. List the volume group information:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgs vgbook</span>
</span></span><span class="line"><span class="cl">  VG     <span class="c1">#PV #LV #SN Attr   VSize   VFree  </span>
</span></span><span class="line"><span class="cl">  vgbook   <span class="m">2</span>   <span class="m">0</span>   <span class="m">0</span> wz--n- 320.00m 320.00m
</span></span></code></pre></div><p>5. Display detailed information about the volume group and the physical volumes it contains:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay -v vgbook</span>
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgbook
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  VG Size               320.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               16.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">20</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">20</span> / 320.00 MiB
</span></span><span class="line"><span class="cl">  VG UUID               zRu1d2-ZgDL-bnzV-I9U1-0IFo-uM4x-w4bX0Q
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Physical volumes ---
</span></span><span class="line"><span class="cl">  PV Name               /dev/sdd1     
</span></span><span class="line"><span class="cl">  PV UUID               8x8IgZ-3z5T-ODA8-dofQ-xk5s-QN7I-KwpQ1e
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">5</span> / <span class="m">5</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  PV Name               /dev/sde     
</span></span><span class="line"><span class="cl">  PV UUID               xJU0Hh-W5k9-FyKO-d6Ha-1ofW-ajvh-hJSo8R
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">15</span> / <span class="m">15</span>
</span></span></code></pre></div><p>6. List the physical volume information:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvs</span>
</span></span><span class="line"><span class="cl">  PV         VG     Fmt  Attr PSize   PFree  
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel   lvm2 a--  &lt;19.00g      <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdd1  vgbook lvm2 a--   80.00m  80.00m
</span></span><span class="line"><span class="cl">  /dev/sde   vgbook lvm2 a--  240.00m 240.00m
</span></span></code></pre></div><p>7. Display detailed information about the physical volumes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvdisplay /dev/sdd1</span>
</span></span><span class="line"><span class="cl">  --- Physical volume ---
</span></span><span class="line"><span class="cl">  PV Name               /dev/sdd1
</span></span><span class="line"><span class="cl">  VG Name               vgbook
</span></span><span class="line"><span class="cl">  PV Size               86.00 MiB / not usable 6.00 MiB
</span></span><span class="line"><span class="cl">  Allocatable           yes 
</span></span><span class="line"><span class="cl">  PE Size               16.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">5</span>
</span></span><span class="line"><span class="cl">  Free PE               <span class="m">5</span>
</span></span><span class="line"><span class="cl">  Allocated PE          <span class="m">0</span>
</span></span><span class="line"><span class="cl">  PV UUID               8x8IgZ-3z5T-ODA8-dofQ-xk5s-QN7I-KwpQ1e
</span></span></code></pre></div><ul>
<li>Once a partition or disk is initialized and added to a volume group, they are treated identically within the volume group. LVM does not prefer one over the other.</li>
</ul>
<h3 id="exercise-13-7-create-logical-volumesserver2">Exercise 13-7: Create Logical Volumes(server2)</h3>
<ul>
<li>Create two logical volumes, lvol0 and lvbook1, in the vgbook volume group.</li>
<li>Use 120MB for lvol0 and 192MB for lvbook1 from the available pool of space.</li>
<li>Display the details of the volume group and the logical volumes.</li>
</ul>
<p>1. Create a logical volume with the default name lvol0 using the <code>lvcreate</code> command. Use the -L option to specify the logical volume size, 120MB. You may use the -v, -vv, or -vvv option with the command for verbosity.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -vL 120 vgbook</span>
</span></span><span class="line"><span class="cl">  Rounding up size to full physical extent 128.00 MiB
</span></span><span class="line"><span class="cl">  Creating logical volume lvol0
</span></span><span class="line"><span class="cl">  Archiving volume group <span class="s2">&#34;vgbook&#34;</span> metadata <span class="o">(</span>seqno 1<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Activating logical volume vgbook/lvol0.
</span></span><span class="line"><span class="cl">  activation/volume_list configuration setting not defined: Checking only host tags <span class="k">for</span> vgbook/lvol0.
</span></span><span class="line"><span class="cl">  Creating vgbook-lvol0
</span></span><span class="line"><span class="cl">  Loading table <span class="k">for</span> vgbook-lvol0 <span class="o">(</span>253:2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Resuming vgbook-lvol0 <span class="o">(</span>253:2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Wiping known signatures on logical volume vgbook/lvol0.
</span></span><span class="line"><span class="cl">  Initializing 4.00 KiB of logical volume vgbook/lvol0 with value 0.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvol0&#34;</span> created.
</span></span><span class="line"><span class="cl">  Creating volume group backup <span class="s2">&#34;/etc/lvm/backup/vgbook&#34;</span> <span class="o">(</span>seqno 2<span class="o">)</span>.
</span></span></code></pre></div><ul>
<li>
<p>Size for the logical volume may be specified in units such as MBs, GBs, TBs, or as a count of LEs</p>
</li>
<li>
<p>MB is the default if no unit is specified</p>
</li>
<li>
<p>The size of a logical volume is always in multiples of the PE size. For instance, logical volumes created in vgbook with the PE size set at 16MB can be 16MB, 32MB, 48MB, 64MB, and so on.</p>
</li>
</ul>
<p>2. Create lvbook1 of size 192MB (16x12) using the <code>lvcreate</code> command. Use the -l switch to specify the size in logical extents and -n for the custom name.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -l 12 -n lvbook1 vgbook</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvbook1&#34;</span> created.
</span></span></code></pre></div><p>3. List the logical volume information:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvs</span>
</span></span><span class="line"><span class="cl">  LV      VG     Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel   -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel   -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvbook1 vgbook -wi-a----- 192.00m                                                    
</span></span><span class="line"><span class="cl">  lvol0   vgbook -wi-a----- 128.00m 
</span></span></code></pre></div><p>4. Display detailed information about the volume group including the logical volumes and the physical volumes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay -v vgbook</span>
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgbook
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  VG Size               320.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               16.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">20</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">20</span> / 320.00 MiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               zRu1d2-ZgDL-bnzV-I9U1-0IFo-uM4x-w4bX0Q
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgbook/lvol0
</span></span><span class="line"><span class="cl">  LV Name                lvol0
</span></span><span class="line"><span class="cl">  VG Name                vgbook
</span></span><span class="line"><span class="cl">  LV UUID                9M9ahf-1L3y-c0yk-3Z2O-UzjH-0Amt-QLi4p5
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-12 02:42:51 -0700
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                128.00 MiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">8</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:2
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgbook/lvbook1
</span></span><span class="line"><span class="cl">  LV Name                lvbook1
</span></span><span class="line"><span class="cl">  VG Name                vgbook
</span></span><span class="line"><span class="cl">  LV UUID                pgd8qR-YXXK-3Idv-qmpW-w8Az-WGLR-g2d8Yn
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-12 02:45:31 -0700
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                192.00 MiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">12</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:3
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Physical volumes ---
</span></span><span class="line"><span class="cl">  PV Name               /dev/sdd1     
</span></span><span class="line"><span class="cl">  PV UUID               8x8IgZ-3z5T-ODA8-dofQ-xk5s-QN7I-KwpQ1e
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">5</span> / <span class="m">0</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  PV Name               /dev/sde     
</span></span><span class="line"><span class="cl">  PV UUID               xJU0Hh-W5k9-FyKO-d6Ha-1ofW-ajvh-hJSo8R
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">15</span> / <span class="m">0</span>
</span></span></code></pre></div><p>Alternatively, you can run the following to view only the logical volume
details:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvdisplay /dev/vgbook/lvol0</span>
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgbook/lvol0
</span></span><span class="line"><span class="cl">  LV Name                lvol0
</span></span><span class="line"><span class="cl">  VG Name                vgbook
</span></span><span class="line"><span class="cl">  LV UUID                9M9ahf-1L3y-c0yk-3Z2O-UzjH-0Amt-QLi4p5
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-12 02:42:51 -0700
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                128.00 MiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">8</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:2
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvdisplay /dev/vgbook/lvbook1</span>
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgbook/lvbook1
</span></span><span class="line"><span class="cl">  LV Name                lvbook1
</span></span><span class="line"><span class="cl">  VG Name                vgbook
</span></span><span class="line"><span class="cl">  LV UUID                pgd8qR-YXXK-3Idv-qmpW-w8Az-WGLR-g2d8Yn
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-12 02:45:31 -0700
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                192.00 MiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">12</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:3
</span></span></code></pre></div><h3 id="exercise-13-8-extend-a-volume-group-and-a-logical-volumeserver2">Exercise 13-8: Extend a Volume Group and a Logical Volume(server2)</h3>
<ul>
<li>Add another partition sdd2 of size 158MB to vgbook to increase the pool of allocatable space.</li>
<li>Initialize the new partition prior to adding it to the volume group.</li>
<li>Increase the size of lvbook1 to 336MB.</li>
<li>Display basic information for the physical volumes, volume group, and logical volume.</li>
</ul>
<p>1. Create a partition of size 158MB on sdd using the parted command. Display the new partition to confirm the partition number and size.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># parted /dev/sdd mkpart primary 91 250</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd print                              </span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdd: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End     Size    Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  91.2MB  90.2MB  primary
</span></span><span class="line"><span class="cl"> <span class="m">2</span>      92.3MB  250MB   157MB   primary               lvm
</span></span></code></pre></div><p>2. Initialize sdd2 using the pvcreate command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdd2</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdd2&#34;</span> successfully created.
</span></span></code></pre></div><p>3. Extend vgbook by adding the new physical volume to it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgextend vgbook /dev/sdd2</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgbook&#34;</span> successfully extended
</span></span></code></pre></div><p>4. List the volume group:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgs</span>
</span></span><span class="line"><span class="cl">  VG     <span class="c1">#PV #LV #SN Attr   VSize   VFree  </span>
</span></span><span class="line"><span class="cl">  rhel     <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g      <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vgbook   <span class="m">3</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- 464.00m 144.00m
</span></span></code></pre></div><p>5. Extend the size of lvbook1 to 340MB by adding 144MB using the <code>lvextend</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvextend -L +144 /dev/vgbook/lvbook1</span>
</span></span><span class="line"><span class="cl">  Size of logical volume vgbook/lvbook1 changed from 192.00 MiB <span class="o">(</span><span class="m">12</span> extents<span class="o">)</span> to 336.00 MiB <span class="o">(</span><span class="m">21</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vgbook/lvbook1 successfully resized.
</span></span></code></pre></div><p>EXAM TIP: Make sure the expansion of a logical volume does not affect the file system and the data it contains.</p>
<p>6. Issue vgdisplay on vgbook with the -v switch for the updated
details:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay -v vgbook</span>
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgbook
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">3</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">5</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">3</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Size               464.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               16.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">29</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">29</span> / 464.00 MiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               zRu1d2-ZgDL-bnzV-I9U1-0IFo-uM4x-w4bX0Q
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgbook/lvol0
</span></span><span class="line"><span class="cl">  LV Name                lvol0
</span></span><span class="line"><span class="cl">  VG Name                vgbook
</span></span><span class="line"><span class="cl">  LV UUID                9M9ahf-1L3y-c0yk-3Z2O-UzjH-0Amt-QLi4p5
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-12 02:42:51 -0700
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                128.00 MiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">8</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:2
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgbook/lvbook1
</span></span><span class="line"><span class="cl">  LV Name                lvbook1
</span></span><span class="line"><span class="cl">  VG Name                vgbook
</span></span><span class="line"><span class="cl">  LV UUID                pgd8qR-YXXK-3Idv-qmpW-w8Az-WGLR-g2d8Yn
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-12 02:45:31 -0700
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                336.00 MiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">21</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">3</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:3
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Physical volumes ---
</span></span><span class="line"><span class="cl">  PV Name               /dev/sdd1     
</span></span><span class="line"><span class="cl">  PV UUID               8x8IgZ-3z5T-ODA8-dofQ-xk5s-QN7I-KwpQ1e
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">5</span> / <span class="m">0</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  PV Name               /dev/sde     
</span></span><span class="line"><span class="cl">  PV UUID               xJU0Hh-W5k9-FyKO-d6Ha-1ofW-ajvh-hJSo8R
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">15</span> / <span class="m">0</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  PV Name               /dev/sdd2     
</span></span><span class="line"><span class="cl">  PV UUID               1olOnk-o8FH-uJRD-2pJf-8GCy-3K0M-gcf3pF
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">9</span> / <span class="m">0</span>
</span></span></code></pre></div><p>7. View a summary of the physical volumes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@server2 ~<span class="o">]</span><span class="c1"># sudo pvs</span>
</span></span><span class="line"><span class="cl">  PV         VG     Fmt  Attr PSize   PFree
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel   lvm2 a--  &lt;19.00g    <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdd1  vgbook lvm2 a--   80.00m    <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdd2  vgbook lvm2 a--  144.00m    <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sde   vgbook lvm2 a--  240.00m    <span class="m">0</span>
</span></span></code></pre></div><p>8. View a summary of the logical volumes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvs</span>
</span></span><span class="line"><span class="cl">  LV      VG     Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel   -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel   -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvbook1 vgbook -wi-a----- 336.00m                                                    
</span></span><span class="line"><span class="cl">  lvol0   vgbook -wi-a----- 128.00m 
</span></span></code></pre></div><h3 id="exercise-13-9-rename-reduce-extend-and-remove-logical-volumesserver2">Exercise 13-9: Rename, Reduce, Extend, and Remove Logical Volumes(server2)</h3>
<ul>
<li>Rename lvol0 to lvbook2.</li>
<li>Decrease the size of lvbook2 to 50MB using the <code>lvreduce</code> command</li>
<li>Add 32MB with the <code>lvresize command.</code></li>
<li>remove both logical volumes.</li>
<li>display the summary for the volume groups, logical volumes, and physical volumes.</li>
</ul>
<p>1. Rename lvol0 to lvbook2 using the <code>lvrename</code> command and confirm with
lvs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvrename vgbook lvol0 lvbook2</span>
</span></span><span class="line"><span class="cl">  Renamed <span class="s2">&#34;lvol0&#34;</span> to <span class="s2">&#34;lvbook2&#34;</span> in volume group <span class="s2">&#34;vgbook&#34;</span>
</span></span></code></pre></div><p>2. Reduce the size of lvbook2 to 50MB with the <code>lvreduce</code> command. Specify the absolute desired size for the logical volume. Answer &ldquo;Do you really want to reduce vgbook/lvbook2?&rdquo; in the affirmative.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvreduce -L 50 /dev/vgbook/lvbook2</span>
</span></span><span class="line"><span class="cl">  Rounding size to boundary between physical extents: 64.00 MiB.
</span></span><span class="line"><span class="cl">  No file system found on /dev/vgbook/lvbook2.
</span></span><span class="line"><span class="cl">  Size of logical volume vgbook/lvbook2 changed from 128.00 MiB <span class="o">(</span><span class="m">8</span> extents<span class="o">)</span> to 64.00 MiB <span class="o">(</span><span class="m">4</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vgbook/lvbook2 successfully resized.
</span></span></code></pre></div><p>3. Add 32MB to lvbook2 with the lvresize command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvresize -L +32 /dev/vgbook/lvbook2</span>
</span></span><span class="line"><span class="cl">  Size of logical volume vgbook/lvbook2 changed from 64.00 MiB <span class="o">(</span><span class="m">4</span> extents<span class="o">)</span> to 96.00 MiB <span class="o">(</span><span class="m">6</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vgbook/lvbook2 successfully resized.
</span></span></code></pre></div><p>4. Use the pvs, lvs, vgs, and vgdisplay commands to view the updated
allocation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvs</span>
</span></span><span class="line"><span class="cl">  PV         VG     Fmt  Attr PSize   PFree 
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel   lvm2 a--  &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdd1  vgbook lvm2 a--   80.00m     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdd2  vgbook lvm2 a--  144.00m     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sde   vgbook lvm2 a--  240.00m 32.00m
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  LV      VG     Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel   -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel   -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvbook1 vgbook -wi-a----- 336.00m                                                    
</span></span><span class="line"><span class="cl">  lvbook2 vgbook -wi-a-----  96.00m  
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgs</span>
</span></span><span class="line"><span class="cl">  VG     <span class="c1">#PV #LV #SN Attr   VSize   VFree </span>
</span></span><span class="line"><span class="cl">  rhel     <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vgbook   <span class="m">3</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- 464.00m 32.00m
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgdisplay</span>
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgbook
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">3</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">8</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">3</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Size               464.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               16.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">29</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">27</span> / 432.00 MiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">2</span> / 32.00 MiB
</span></span><span class="line"><span class="cl">  VG UUID               zRu1d2-ZgDL-bnzV-I9U1-0IFo-uM4x-w4bX0Q
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               rhel
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">4863</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">4863</span> / &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               UiK3fy-FGOc-2fnP-C1Y6-JS0l-irEe-Sq3c4h
</span></span></code></pre></div><p>5. Remove both lvbook1 and lvbook2 logical volumes using the <code>lvremove</code>
command. Use the <code>-f</code> option to suppress the &ldquo;Do you really want to remove
active logical volume&rdquo; message.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvremove /dev/vgbook/lvbook1 -f</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvbook1&#34;</span> successfully removed.
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvremove /dev/vgbook/lvbook2 -f</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvbook2&#34;</span> successfully removed.
</span></span></code></pre></div><ul>
<li>Removing an LV is destructive</li>
<li>Backup any data in the target LV before deleting it.</li>
<li>You will need to <code>unmount</code> the file system or disable swap in the logical volume.
<br>
6. Execute the <code>vgdisplay</code> command and grep for &ldquo;Cur LV&rdquo; to see the number of logical volumes currently available in vgbook. It should show 0, as you have removed both logical volumes.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay vgbook | grep &#39;Cur LV&#39;</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">0</span>
</span></span></code></pre></div><h3 id="exercise-13-10-reduce-and-remove-a-volume-groupserver2">Exercise 13-10: Reduce and Remove a Volume Group(server2)</h3>
<p>\</p>
<ul>
<li>Reduce vgbook by removing the sdd1 and sde physical volumes from it</li>
<li>Remove the volume group.</li>
<li>Confirm the deletion of the volume group and the logical volumes at the end.</li>
</ul>
<p>1. Remove sdd1 and sde physical volumes from vgbook by issuing the <code>vgreduce</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgreduce vgbook /dev/sdd1 /dev/sde</span>
</span></span><span class="line"><span class="cl">  Removed <span class="s2">&#34;/dev/sdd1&#34;</span> from volume group <span class="s2">&#34;vgbook&#34;</span>
</span></span><span class="line"><span class="cl">  Removed <span class="s2">&#34;/dev/sde&#34;</span> from volume group <span class="s2">&#34;vgbook&#34;</span>
</span></span></code></pre></div><p>2. Remove the volume group using the <code>vgremove</code> command. This will also remove the last physical volume, sdd2, from it.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgremove vgbook</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgbook&#34;</span> successfully removed
</span></span></code></pre></div><ul>
<li>Use the <code>-f</code> option with the <code>vgremove</code> command to force the volume group removal even if it contains any number of logical and physical volumes in it.</li>
</ul>
<p>3. Execute the <code>vgs</code> and <code>lvs</code> commands for confirmation:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgs</span>
</span></span><span class="line"><span class="cl">  VG   <span class="c1">#PV #LV #SN Attr   VSize   VFree</span>
</span></span><span class="line"><span class="cl">  rhel   <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g    <span class="m">0</span> 
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvs</span>
</span></span><span class="line"><span class="cl">  LV   VG   Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root rhel -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap rhel -wi-ao----   2.00g    
</span></span></code></pre></div><h3 id="exercise-13-11-uninitialize-physical-volumes-server2">Exercise 13-11: Uninitialize Physical Volumes (Server2)\</h3>
<ul>
<li>Uninitialize all three physical volumes&mdash;sdd1, sdd2, and sde&mdash;by deleting the LVM structural information from them.</li>
<li>Use the <code>pvs</code> command for confirmation.</li>
<li>Remove the partitions from the sdd disk and</li>
<li>Verify that all disks used in Exercises 13-6 to 13-10 are now in their original raw state.</li>
</ul>
<p>1. Remove the LVM structures from sdd1, sdd2, and sde using the <code>pvremove</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvremove /dev/sdd1 /dev/sdd2 /dev/sde</span>
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sdd1&#34;</span> successfully wiped.
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sdd2&#34;</span> successfully wiped.
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sde&#34;</span> successfully wiped.
</span></span></code></pre></div><p>2. Confirm the removal using the <code>pvs</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvs</span>
</span></span><span class="line"><span class="cl">  PV         VG   Fmt  Attr PSize   PFree
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel lvm2 a--  &lt;19.00g    <span class="m">0</span> 
</span></span></code></pre></div><p>The partitions and the disk are now back to their raw state and can be repurposed.</p>
<p>3. Remove the partitions from sdd using the <code>parted</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd rm 1 ; sudo parted /dev/sdd rm 2</span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.  
</span></span></code></pre></div><p>4. Verify that all disks used in previous exercises have returned to their original raw state using the lsblk command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk                                                   </span>
</span></span><span class="line"><span class="cl">NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sda             8:0    <span class="m">0</span>   20G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">├─sda1          8:1    <span class="m">0</span>    1G  <span class="m">0</span> part /boot
</span></span><span class="line"><span class="cl">└─sda2          8:2    <span class="m">0</span>   19G  <span class="m">0</span> part 
</span></span><span class="line"><span class="cl">  ├─rhel-root 253:0    <span class="m">0</span>   17G  <span class="m">0</span> lvm  /
</span></span><span class="line"><span class="cl">  └─rhel-swap 253:1    <span class="m">0</span>    2G  <span class="m">0</span> lvm  <span class="o">[</span>SWAP<span class="o">]</span>
</span></span><span class="line"><span class="cl">sdb             8:16   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdc             8:32   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdd             8:48   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sde             8:64   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdf             8:80   <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sr0            11:0    <span class="m">1</span>  9.8G  <span class="m">0</span> rom  
</span></span></code></pre></div><h1 id="virtual-data-optimizer-vdo">Virtual Data Optimizer (VDO)</h1>
<ul>
<li>Used for storage optimization</li>
<li>Device driver layer that sits between the Linux kernel and the physical storage devices.</li>
<li>Conserve disk space, improve data throughput, and save on storage cost.</li>
<li>Employs <strong>thin provisioning</strong>, <strong>de-duplication</strong>, and <strong>compression</strong> technologies to help realize the goals.</li>
</ul>
<h3 id="how-vdo-conserves-storage">How VDO Conserves Storage</h3>
<p><strong>Stage 1</strong></p>
<ul>
<li>Makes use of thin provisioning to identify and eliminate empty (zero-byte) data blocks. (zero-block elimination)</li>
<li>Removes randomization of data blocks by moving in-use data blocks to contiguous locations on the storage device.</li>
</ul>
<p><img src="davidvargasxyz.github.io/docs/images/image-XYSCLXMC.jpg" alt=""></p>
<p><strong>Stage 2</strong></p>
<ul>
<li>If it detects that new data is an identical copy of some existing data, it makes an internal note of it but does not actually write the redundant data to the disk. (de-duplication)</li>
<li>Implemented with the inclusion of a kernel module called <strong>UDS</strong> (Universal De-duplication Service).
<br>
<strong>Stage 3</strong></li>
<li>Calls upon another kernel module called <strong>kvdo</strong>, which compresses the residual data blocks and consolidates them on a lower number of blocks.</li>
<li>Results in a further drop in storage space utilization.</li>
<li>Runs in the background and processes inbound data through the three stages on VDO-enabled volumes.</li>
<li>Not a CPU or memory-intensive process</li>
</ul>
<h3 id="vdo-integration-with-lvm">VDO Integration with LVM</h3>
<p>\</p>
<ul>
<li>LVM utilities have been enhanced to include options to support VDO volumes.</li>
</ul>
<h3 id="vdo-components">VDO Components</h3>
<ul>
<li>Utilizes the concepts of pool and volume.
<strong>pool</strong></li>
<li>logical volume that is created inside an LVM volume group using a deduplicated storage space.
<strong>volume</strong></li>
<li>Just like a regular LVM logical volume, but it is provisioned in a pool.</li>
<li>Needs to be formatted with file system structures before it can be used.</li>
</ul>
<p>\</p>
<h3 id="vdo-and-kmod-kvdo-commands"><code>vdo</code> and <code>kmod-kvdo</code> Commands</h3>
<ul>
<li>Create, mount, and manage LVM VDO volumes</li>
<li>Installed on the system by default.</li>
</ul>
<p><code>vdo</code></p>
<ul>
<li>Installs the tools necessary to support the creation and management of VDO volumes</li>
</ul>
<p><code>kmod-kvdo</code></p>
<ul>
<li>Implements fine-grained storage virtualization, thin provisioning, and compression.
Not installed by default?</li>
</ul>
<h3 id="exercise-13-12-create-an-lvm-vdo-volume">Exercise 13-12: Create an LVM VDO Volume</h3>
<ul>
<li>Initialize the 5GB disk (sdf) for use in LVM VDO.</li>
<li>Create a volume group called vgvdo and add the physical volume to it.</li>
<li>List and display the volume group and the physical volume.</li>
<li>Create a VDO volume called lvvdo with a virtual size of 20GB.</li>
</ul>
<p>\</p>
<p>1. Initialize the sdf disk using the pvcreate command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdf</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdf&#34;</span> successfully created.
</span></span></code></pre></div><p>2. Create vgvdo volume group using the vgcreate command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgcreate vgvdo /dev/sdf</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo&#34;</span> successfully created
</span></span></code></pre></div><p>3. Display basic information about the volume group:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay vgvdo</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgvdo
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">1279</span> / &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  VG UUID               tED1vC-Ylec-fpeR-KM8F-8FzP-eaQ4-AsFrgc
</span></span></code></pre></div><p>4. Create a VDO volume called lvvdo using the <code>lvcreate</code> command. Use the -l option to specify the number of logical extents (1279) to be allocated and the -V option for the amount of virtual space.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo dnf install kmod-kvdo</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate --type vdo -l 1279 -n lvvdo -V 20G vgvdo</span>
</span></span><span class="line"><span class="cl">    The VDO volume can address <span class="m">2</span> GB in <span class="m">1</span> data slab.
</span></span><span class="line"><span class="cl">    It can grow to address at most <span class="m">16</span> TB of physical storage in <span class="m">8192</span> slabs.
</span></span><span class="line"><span class="cl">    If a larger maximum size might be needed, use bigger slabs.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvvdo&#34;</span> created.
</span></span></code></pre></div><p>5. Display detailed information about the volume group including the logical volume and the physical volume:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgdisplay -v vgvdo</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vgvdo
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">1279</span> / &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               tED1vC-Ylec-fpeR-KM8F-8FzP-eaQ4-AsFrgc
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgvdo/vpool0
</span></span><span class="line"><span class="cl">  LV Name                vpool0
</span></span><span class="line"><span class="cl">  VG Name                vgvdo
</span></span><span class="line"><span class="cl">  LV UUID                yGAsK2-MruI-QGy2-Q1IF-CDDC-XPNT-qkjJ9t
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-16 09:35:46 -0700
</span></span><span class="line"><span class="cl">  LV VDO Pool data       vpool0_vdata
</span></span><span class="line"><span class="cl">  LV VDO Pool usage      60.00%
</span></span><span class="line"><span class="cl">  LV VDO Pool saving     100.00%
</span></span><span class="line"><span class="cl">  LV VDO Operating mode  normal
</span></span><span class="line"><span class="cl">  LV VDO Index state     online
</span></span><span class="line"><span class="cl">  LV VDO Compression st  online
</span></span><span class="line"><span class="cl">  LV VDO Used size       &lt;3.00 GiB
</span></span><span class="line"><span class="cl">  LV Status              NOT available
</span></span><span class="line"><span class="cl">  LV Size                &lt;5.00 GiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">1279</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Logical volume ---
</span></span><span class="line"><span class="cl">  LV Path                /dev/vgvdo/lvvdo
</span></span><span class="line"><span class="cl">  LV Name                lvvdo
</span></span><span class="line"><span class="cl">  VG Name                vgvdo
</span></span><span class="line"><span class="cl">  LV UUID                nnGTW5-tVFa-T3Cy-9nHj-sozF-2KpP-rVfnSq
</span></span><span class="line"><span class="cl">  LV Write Access        read/write
</span></span><span class="line"><span class="cl">  LV Creation host, <span class="nb">time</span> server2, 2024-06-16 09:35:47 -0700
</span></span><span class="line"><span class="cl">  LV VDO Pool name       vpool0
</span></span><span class="line"><span class="cl">  LV Status              available
</span></span><span class="line"><span class="cl">  <span class="c1"># open                 0</span>
</span></span><span class="line"><span class="cl">  LV Size                20.00 GiB
</span></span><span class="line"><span class="cl">  Current LE             <span class="m">5120</span>
</span></span><span class="line"><span class="cl">  Segments               <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Allocation             inherit
</span></span><span class="line"><span class="cl">  Read ahead sectors     auto
</span></span><span class="line"><span class="cl">  - currently <span class="nb">set</span> to     <span class="m">8192</span>
</span></span><span class="line"><span class="cl">  Block device           253:4
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Physical volumes ---
</span></span><span class="line"><span class="cl">  PV Name               /dev/sdf     
</span></span><span class="line"><span class="cl">  PV UUID               0oAXHG-C4ub-Myou-5vZf-QxIX-KVT3-ipMZCp
</span></span><span class="line"><span class="cl">  PV Status             allocatable
</span></span><span class="line"><span class="cl">  Total PE / Free PE    <span class="m">1279</span> / <span class="m">0</span>
</span></span></code></pre></div><p>The output reflects the creation of two logical volumes: a pool called /dev/vgvdo/vpool0 and a volume called /dev/vgvdo/lvvdo.</p>
<h3 id="exercise-13-13-remove-a-volume-group-and-uninitialize-physical-volumeserver2">Exercise 13-13: Remove a Volume Group and Uninitialize Physical Volume(Server2)</h3>
<ul>
<li>remove the vgvdo volume group along with the VDO volumes</li>
<li>uninitialize the physical volume /dev/sdf.</li>
<li>confirm the deletion.</li>
</ul>
<p>1. Remove the volume group along with the VDO volumes using the vgremove command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgremove vgvdo -f</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvvdo&#34;</span> successfully removed.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo&#34;</span> successfully removed
</span></span></code></pre></div><p>Remember to proceed with caution whenever you perform erase operations.</p>
<p>2. Execute <code>sudo vgs</code> and <code>sudo lvs</code> commands for confirmation.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  VG   <span class="c1">#PV #LV #SN Attr   VSize   VFree</span>
</span></span><span class="line"><span class="cl">  rhel   <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g    <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  LV   VG   Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root rhel -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap rhel -wi-ao----   2.00g  
</span></span></code></pre></div><p>3. Remove the LVM structures from sdf using the <code>pvremove</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvremove /dev/sdf</span>
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sdf&#34;</span> successfully wiped.
</span></span></code></pre></div><p>4. Confirm the removal by running <code>sudo pvs</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  PV         VG   Fmt  Attr PSize   PFree
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel lvm2 a--  &lt;19.00g    <span class="m">0</span> 
</span></span></code></pre></div><p>The disk is now back to its raw state and can be repurposed.</p>
<p>5. Verify that the sdf disk used in the previous exercises has returned to its original raw state using the <code>lsblk</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk</span>
</span></span><span class="line"><span class="cl">NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sda             8:0    <span class="m">0</span>   20G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">├─sda1          8:1    <span class="m">0</span>    1G  <span class="m">0</span> part /boot
</span></span><span class="line"><span class="cl">└─sda2          8:2    <span class="m">0</span>   19G  <span class="m">0</span> part 
</span></span><span class="line"><span class="cl">  ├─rhel-root 253:0    <span class="m">0</span>   17G  <span class="m">0</span> lvm  /
</span></span><span class="line"><span class="cl">  └─rhel-swap 253:1    <span class="m">0</span>    2G  <span class="m">0</span> lvm  <span class="o">[</span>SWAP<span class="o">]</span>
</span></span><span class="line"><span class="cl">sdb             8:16   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdc             8:32   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdd             8:48   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sde             8:64   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdf             8:80   <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sr0            11:0    <span class="m">1</span>  9.8G  <span class="m">0</span> rom 
</span></span></code></pre></div><p>This brings the exercise to an end.</p>
<h2 id="storage-review-questions">Storage Review Questions</h2>
<p>Q. Where is the partition table information stored on BIOS-based systems?
A. The partition table information is stored on the Master Boot Record.</p>
<hr>
<p>Q. What is the name of the technology that VDO employs to remove randomization of data blocks?
A. VDO employs thin provisioning technology to remove data block randomization.</p>
<hr>
<p>Q. What would sdd3 represent?
A. sdd3 represents the third partition on the fourth disk.</p>
<hr>
<p>Q. Provide the command to add physical volumes /dev/sdd1 and /dev/sdc to vg20 volume group.
A. <code>vgextend vg20 /dev/sdd1 /dev/sdc</code></p>
<hr>
<p>Q. What are the two commands that you can use to add logical extents to a logical volume?
A. The <code>lvextend</code> and <code>lvresize</code> commands.</p>
<hr>
<p>Q. Provide the command to create a volume group called vg20 on /dev/sdd disk with physical extent size 64MB.
A. <code>vgcreate -s 64 vg20 /dev/sdd</code></p>
<hr>
<p>Q. Thin provisioning technology allows us to create logical volumes of sizes larger than the actual physical storage size. True or False?
A. True.</p>
<hr>
<p>Q. What is the maximum supported number of usable partitions on a GPT disk?
A. 128.</p>
<hr>
<p>Q. Which kernel module is responsible for data block compression in VDO volumes?
A. The kvdo module is responsible for compressing data blocks in VDO volumes.</p>
<hr>
<p>Q. What are the three techniques VDO volumes employ for storage conservation?
A. VDO volumes use thin provisioning, de-duplication, and compression techniques for storage conservation.</p>
<hr>
<p>Q. What would the command <code>parted /dev/sdc mkpart pri 1 200m</code> do?
A. The command provided will create a primary partition of size 200MB on the sdc disk starting at the beginning of the disk.</p>
<hr>
<p>Q. What is the maximum number of usable partitions that can be created on an MBR disk?
A. 14.</p>
<hr>
<p>Q. The gdisk utility can be used to store partition information in MBR format. True or False?
A. False. The gdisk tool is only for GPT type tables.</p>
<hr>
<p>Q. What would the command <code>parted /dev/sdd mklabel msdos</code> do?
A. The command provided will apply msdos label to the sdd disk.</p>
<hr>
<p>Q. Which file in the /proc file system stores the in-memory partitioning information?
A. The partitions file.</p>
<hr>
<p>Q. De-duplication is the process of zero-block elimination. True or False?
A. False. De-duplication is the process of removing blocks of identical data.</p>
<hr>
<p>Q. The parted utility may be used to create LVM logical volumes. True or False?
A. False.</p>
<hr>
<p>Q. What are the two commands that you can use to reduce the number of logical extents from a logical volume?
A. The <code>lvreduce</code> and <code>lvresize</code> commands.</p>
<hr>
<p>Q. A single disk can be used by both parted and LVM solutions at the same time. True or False?
A. True. A single disk can be shared between parted-created partitions and LVM.</p>
<hr>
<p>Q. Provide the command to erase /dev/sdd1 physical volume from vg20 volume group.
A. <code>vgreduce vg20 /dev/sdd1</code></p>
<hr>
<p>Q. Provide the command to remove vg20 along with logical and physical volumes it contains.
A. <code>vgremove -f vg20</code></p>
<hr>
<p>Q. What is the default size of a physical extent in LVM?
A. The default PE size is 4MB.</p>
<hr>
<p>Q. What is the default name for the first logical volume in a volume group?
A. lvol0 is the default name for the first logical volume created in a volume group.</p>
<hr>
<p>Q. What is one difference between the <code>pvs</code> and <code>pvdisplay</code> commands?
A. The <code>pvs</code> command lists basic information about physical volumes whereas the <code>pvdisplay</code> command shows the details.</p>
<hr>
<p>Q. When can a disk or partition be referred to as a physical volume?
A. After the <code>pvcreate</code> command has been executed on it successfully.</p>
<hr>
<p>Q. Provide the command to remove webvol logical volume from vg20 volume group.
A. <code>lvremove /dev/vg20/webvol</code></p>
<hr>
<p>Q. It is necessary to create file system structures in a logical volume before it can be used to store files in it. True or False?
A. True.</p>
<hr>
<p>Q. Physical and logical extents are typically of the same size. True or False?
A. True.</p>
<hr>
<p>Q. What is the purpose of the <code>pvremove</code> command?
A. The <code>pvremove</code> command is used to remove LVM information from a physical volume.</p>
<hr>
<p>Q. What would the command <code>pvcreate /dev/sdd</code> do?
A. The command provided will prepare the /dev/sdd disk for use in a volume group.</p>
<hr>
<p>Q. A disk or partition can be added to a volume group without being initialized. True or False?
A. False. A disk or partition must be initialized before it can be added to a volume group.</p>
<hr>
<p>Q. Provide the command to create a logical volume called webvol of size equal to 100 logical extents in vg20 volume group.
A. <code>lvcreate -l 100 -n webvol vg20</code></p>
<hr>
<p>Q. A volume group can be created without any physical volume in it. True or False?
A. False.</p>
<hr>
<p>Q. A partition can be used as an LVM object. True or False?
A. True.</p>
<hr>
<p>Q. Which command would you use to view the details of a volume group and its objects?
A. The <code>vgdisplay</code> command with the <code>-v</code> option.</p>
<h2 id="storage-dyi-labs">Storage DYI Labs</h2>
<h3 id="lab-13-1-create-and-remove-partitions-with-parted">Lab 13-1: Create and Remove Partitions with parted</h3>
<p>Create a 100MB primary partition on one of the available 250MB disks (lsblk) by invoking the parted utility directly at the command prompt. Apply label &ldquo;msdos&rdquo; if the disk is new.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mklabel msdos</span>
</span></span><span class="line"><span class="cl">Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to
</span></span><span class="line"><span class="cl"><span class="k">continue</span>?
</span></span><span class="line"><span class="cl">Yes/No? yes                                                               
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb mkpart primary 1 101m             </span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>Create another 100MB partition by running parted interactively while ensuring that the second partition won&rsquo;t overlap the first.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># parted /dev/sdb</span>
</span></span><span class="line"><span class="cl">GNU Parted 3.5
</span></span><span class="line"><span class="cl">Using /dev/sdb
</span></span><span class="line"><span class="cl">Welcome to GNU Parted! Type <span class="s1">&#39;help&#39;</span> to view a list of commands.
</span></span><span class="line"><span class="cl"><span class="o">(</span>parted<span class="o">)</span> mkpart primary <span class="m">101</span> 201m                                         
</span></span></code></pre></div><p>Verify the label and the partitions.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">(</span>parted<span class="o">)</span> print                                                            
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdb: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End    Size    Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  101MB  99.6MB  primary
</span></span><span class="line"><span class="cl"> <span class="m">2</span>      101MB   201MB  101MB   primary
</span></span></code></pre></div><p>Remove both partitions at the command prompt.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdb rm 1 rm 2</span>
</span></span></code></pre></div><h3 id="lab-13-2-create-and-remove-partitions-with-gdisk">Lab 13-2: Create and Remove Partitions with gdisk</h3>
<p>Create two 80MB partitions on one of the 250MB disks (lsblk) using the gdisk utility. Make sure the partitions won&rsquo;t overlap.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: o
</span></span><span class="line"><span class="cl">This option deletes all partitions and creates a new protective MBR.
</span></span><span class="line"><span class="cl">Proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sdb: <span class="m">512000</span> sectors, 250.0 MiB
</span></span><span class="line"><span class="cl">Model: VBOX HARDDISK   
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512/512 bytes
</span></span><span class="line"><span class="cl">Disk identifier <span class="o">(</span>GUID<span class="o">)</span>: 226F7476-7F8C-4445-9025-53B6737AD1E4
</span></span><span class="line"><span class="cl">Partition table holds up to <span class="m">128</span> entries
</span></span><span class="line"><span class="cl">Main partition table begins at sector <span class="m">2</span> and ends at sector <span class="m">33</span>
</span></span><span class="line"><span class="cl">First usable sector is 34, last usable sector is <span class="m">511966</span>
</span></span><span class="line"><span class="cl">Partitions will be aligned on 2048-sector boundaries
</span></span><span class="line"><span class="cl">Total free space is <span class="m">511933</span> sectors <span class="o">(</span>250.0 MiB<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start <span class="o">(</span>sector<span class="o">)</span>    End <span class="o">(</span>sector<span class="o">)</span>  Size       Code  Name
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
</span></span><span class="line"><span class="cl">Partition number <span class="o">(</span>1-128, default 1<span class="o">)</span>: 
</span></span><span class="line"><span class="cl">First sector <span class="o">(</span>34-511966, <span class="nv">default</span> <span class="o">=</span> 2048<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: 
</span></span><span class="line"><span class="cl">Last sector <span class="o">(</span>2048-511966, <span class="nv">default</span> <span class="o">=</span> 511966<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: +80M
</span></span><span class="line"><span class="cl">Current <span class="nb">type</span> is <span class="m">8300</span> <span class="o">(</span>Linux filesystem<span class="o">)</span>
</span></span><span class="line"><span class="cl">Hex code or GUID <span class="o">(</span>L to show codes, <span class="nv">Enter</span> <span class="o">=</span> 8300<span class="o">)</span>: 
</span></span><span class="line"><span class="cl">Changed <span class="nb">type</span> of partition to <span class="s1">&#39;Linux filesystem&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: n
</span></span><span class="line"><span class="cl">Partition number <span class="o">(</span>2-128, default 2<span class="o">)</span>: <span class="m">2</span>
</span></span><span class="line"><span class="cl">First sector <span class="o">(</span>34-511966, <span class="nv">default</span> <span class="o">=</span> 165888<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: <span class="m">165888</span>
</span></span><span class="line"><span class="cl">Last sector <span class="o">(</span>165888-511966, <span class="nv">default</span> <span class="o">=</span> 511966<span class="o">)</span> or <span class="o">{</span>+-<span class="o">}</span>size<span class="o">{</span>KMGTP<span class="o">}</span>: +80M
</span></span><span class="line"><span class="cl">Current <span class="nb">type</span> is <span class="m">8300</span> <span class="o">(</span>Linux filesystem<span class="o">)</span>
</span></span><span class="line"><span class="cl">Hex code or GUID <span class="o">(</span>L to show codes, <span class="nv">Enter</span> <span class="o">=</span> 8300<span class="o">)</span>: 
</span></span><span class="line"><span class="cl">Changed <span class="nb">type</span> of partition to <span class="s1">&#39;Linux filesystem&#39;</span>
</span></span></code></pre></div><p>Verify the partitions.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: p
</span></span><span class="line"><span class="cl">Disk /dev/sdb: <span class="m">512000</span> sectors, 250.0 MiB
</span></span><span class="line"><span class="cl">Model: VBOX HARDDISK   
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512/512 bytes
</span></span><span class="line"><span class="cl">Disk identifier <span class="o">(</span>GUID<span class="o">)</span>: 226F7476-7F8C-4445-9025-53B6737AD1E4
</span></span><span class="line"><span class="cl">Partition table holds up to <span class="m">128</span> entries
</span></span><span class="line"><span class="cl">Main partition table begins at sector <span class="m">2</span> and ends at sector <span class="m">33</span>
</span></span><span class="line"><span class="cl">First usable sector is 34, last usable sector is <span class="m">511966</span>
</span></span><span class="line"><span class="cl">Partitions will be aligned on 2048-sector boundaries
</span></span><span class="line"><span class="cl">Total free space is <span class="m">184253</span> sectors <span class="o">(</span>90.0 MiB<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start <span class="o">(</span>sector<span class="o">)</span>    End <span class="o">(</span>sector<span class="o">)</span>  Size       Code  Name
</span></span><span class="line"><span class="cl">   <span class="m">1</span>            <span class="m">2048</span>          <span class="m">165887</span>   80.0 MiB    <span class="m">8300</span>  Linux filesystem
</span></span><span class="line"><span class="cl">   <span class="m">2</span>          <span class="m">165888</span>          <span class="m">329727</span>   80.0 MiB    <span class="m">8300</span>  Linux filesystem
</span></span></code></pre></div><p>Save</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: w
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
</span></span><span class="line"><span class="cl">PARTITIONS!!
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Do you want to proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span><span class="line"><span class="cl">OK<span class="p">;</span> writing new GUID partition table <span class="o">(</span>GPT<span class="o">)</span> to /dev/sdb.
</span></span><span class="line"><span class="cl">The operation has completed successfully.
</span></span></code></pre></div><p>Delete the partitions</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: d  
</span></span><span class="line"><span class="cl">Partition number <span class="o">(</span>1-2<span class="o">)</span>: <span class="m">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: d
</span></span><span class="line"><span class="cl">Using <span class="m">2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Command <span class="o">(</span>? <span class="k">for</span> <span class="nb">help</span><span class="o">)</span>: w
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING
</span></span><span class="line"><span class="cl">PARTITIONS!!
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Do you want to proceed? <span class="o">(</span>Y/N<span class="o">)</span>: y
</span></span><span class="line"><span class="cl">OK<span class="p">;</span> writing new GUID partition table <span class="o">(</span>GPT<span class="o">)</span> to /dev/sdb.
</span></span><span class="line"><span class="cl">The operation has completed successfully.
</span></span></code></pre></div><h3 id="lab-13-3-create-volume-group-and-logical-volumes">Lab 13-3: Create Volume Group and Logical Volumes</h3>
<p>initialize 1x250MB disk for use in LVM (use lsblk to identify available disks).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd mklabel msdos</span>
</span></span><span class="line"><span class="cl">Warning: The existing disk label on /dev/sdd will be destroyed and all data
</span></span><span class="line"><span class="cl">on this disk will be lost. Do you want to <span class="k">continue</span>?
</span></span><span class="line"><span class="cl">Yes/No? yes                                                               
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd mkpart primary 1 250m              </span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo parted /dev/sdd print                              </span>
</span></span><span class="line"><span class="cl">Model: ATA VBOX HARDDISK <span class="o">(</span>scsi<span class="o">)</span>
</span></span><span class="line"><span class="cl">Disk /dev/sdd: 262MB
</span></span><span class="line"><span class="cl">Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
</span></span><span class="line"><span class="cl">Partition Table: msdos
</span></span><span class="line"><span class="cl">Disk Flags: 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Number  Start   End    Size   Type     File system  Flags
</span></span><span class="line"><span class="cl"> <span class="m">1</span>      1049kB  250MB  249MB  primary
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo pvcreate /dev/sdd1</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdd1&#34;</span> successfully created.
</span></span></code></pre></div><p>(Can also just use the full disk without making it into a partition first.)</p>
<p>Create volume group vg100 with PE size 16MB and add the physical volume.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgcreate -vs 16 vg100 /dev/sdd1</span>
</span></span><span class="line"><span class="cl">  Wiping signatures on new PV /dev/sdd1.
</span></span><span class="line"><span class="cl">  Adding physical volume <span class="s1">&#39;/dev/sdd1&#39;</span> to volume group <span class="s1">&#39;vg100&#39;</span>
</span></span><span class="line"><span class="cl">  Creating volume group backup <span class="s2">&#34;/etc/lvm/backup/vg100&#34;</span> <span class="o">(</span>seqno 1<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vg100&#34;</span> successfully created
</span></span></code></pre></div><p>Create two logical volumes lvol0 and swapvol of sizes 90MB and 120MB.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -vL 90 vg100</span>
</span></span><span class="line"><span class="cl">  Creating logical volume lvol0
</span></span><span class="line"><span class="cl">  Archiving volume group <span class="s2">&#34;vg100&#34;</span> metadata <span class="o">(</span>seqno 1<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Activating logical volume vg100/lvol0.
</span></span><span class="line"><span class="cl">  activation/volume_list configuration setting not defined: Checking only host tags <span class="k">for</span> vg100/lvol0.
</span></span><span class="line"><span class="cl">  Creating vg100-lvol0
</span></span><span class="line"><span class="cl">  Loading table <span class="k">for</span> vg100-lvol0 <span class="o">(</span>253:2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Resuming vg100-lvol0 <span class="o">(</span>253:2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Wiping known signatures on logical volume vg100/lvol0.
</span></span><span class="line"><span class="cl">  Initializing 4.00 KiB of logical volume vg100/lvol0 with value 0.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;lvol0&#34;</span> created.
</span></span><span class="line"><span class="cl">  Creating volume group backup <span class="s2">&#34;/etc/lvm/backup/vg100&#34;</span> <span class="o">(</span>seqno 2<span class="o">)</span>.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo lvcreate -l 8 -n swapvol vg100</span>
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;swapvol&#34;</span> created.
</span></span></code></pre></div><p>Use the vgs, pvs, lvs, and vgdisplay commands for verification.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  LV      VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel  -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel  -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvol0   vg100 -wi-a-----  90.00m                                                    
</span></span><span class="line"><span class="cl">  swapvol vg100 -wi-a----- 120.00m                                                    
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  VG    <span class="c1">#PV #LV #SN Attr   VSize   VFree </span>
</span></span><span class="line"><span class="cl">  rhel    <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vg100   <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- 225.00m 15.00m
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  PV         VG    Fmt  Attr PSize   PFree 
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel  lvm2 a--  &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdd1  vg100 lvm2 a--  225.00m 15.00m
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgdisplay</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vg100
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">5</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               225.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               15.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">15</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">14</span> / 210.00 MiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">1</span> / 15.00 MiB
</span></span><span class="line"><span class="cl">  VG UUID               fEUf8R-nxKF-Uxud-7rmm-JvSQ-PsN1-Mrs3zc
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               rhel
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">4863</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">4863</span> / &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               UiK3fy-FGOc-2fnP-C1Y6-JS0l-irEe-Sq3c4h
</span></span></code></pre></div><h3 id="lab-13-4-expand-volume-group-and-logical-volume">Lab 13-4: Expand Volume Group and Logical Volume</h3>
<p>Create a partition on an available 250MB disk and initialize it for use in LVM (use lsblk to identify available disks).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># parted /dev/sdb mklabel msdos</span>
</span></span><span class="line"><span class="cl">Warning: The existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to <span class="k">continue</span>?
</span></span><span class="line"><span class="cl">Yes/No? yes                                                               
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># parted /dev/sdb mkpart primary 1 250m                   </span>
</span></span><span class="line"><span class="cl">Information: You may need to update /etc/fstab.
</span></span></code></pre></div><p>Add the new physical volume to vg100.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgextend vg100 /dev/sdb1</span>
</span></span><span class="line"><span class="cl">  Device /dev/sdb1 has updated name <span class="o">(</span>devices file /dev/sdd1<span class="o">)</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdb1&#34;</span> successfully created.
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vg100&#34;</span> successfully extended
</span></span></code></pre></div><p>Expand the lvol0 logical volume to size 300MB.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvextend -L +210 /dev/vg100/lvol0</span>
</span></span><span class="line"><span class="cl">  Size of logical volume vg100/lvol0 changed from 90.00 MiB <span class="o">(</span><span class="m">6</span> extents<span class="o">)</span> to 300.00 MiB <span class="o">(</span><span class="m">20</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vg100/lvol0 successfully resized.
</span></span></code></pre></div><p>Use the vgs, pvs, lvs, and vgdisplay commands for verification.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  LV      VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel  -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel  -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvol0   vg100 -wi-a-----  90.00m                                                    
</span></span><span class="line"><span class="cl">  swapvol vg100 -wi-a----- 120.00m<span class="o">](</span>&lt;<span class="o">[</span>root@server20 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  LV      VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel  -wi-ao---- %3C17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel  -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvol0   vg100 -wi-a----- 300.00m                                                    
</span></span><span class="line"><span class="cl">  swapvol vg100 -wi-a----- 120.00m&gt;<span class="o">)</span>                                                  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  VG    <span class="c1">#PV #LV #SN Attr   VSize   VFree </span>
</span></span><span class="line"><span class="cl">  rhel    <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vg100   <span class="m">2</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- 450.00m 30.00m
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  PV         VG    Fmt  Attr PSize   PFree 
</span></span><span class="line"><span class="cl">  /dev/sda2  rhel  lvm2 a--  &lt;19.00g     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  /dev/sdb1  vg100 lvm2 a--  225.00m 30.00m
</span></span><span class="line"><span class="cl">  /dev/sdd1  vg100 lvm2 a--  225.00m     <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  LV      VG    Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root    rhel  -wi-ao---- &lt;17.00g                                                    
</span></span><span class="line"><span class="cl">  swap    rhel  -wi-ao----   2.00g                                                    
</span></span><span class="line"><span class="cl">  lvol0   vg100 -wi-a----- 300.00m                                                    
</span></span><span class="line"><span class="cl">  swapvol vg100 -wi-a----- 120.00m                                                    
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgdisplay</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               vg100
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">7</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  VG Size               450.00 MiB
</span></span><span class="line"><span class="cl">  PE Size               15.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">30</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">28</span> / 420.00 MiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">2</span> / 30.00 MiB
</span></span><span class="line"><span class="cl">  VG UUID               fEUf8R-nxKF-Uxud-7rmm-JvSQ-PsN1-Mrs3zc
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">  --- Volume group ---
</span></span><span class="line"><span class="cl">  VG Name               rhel
</span></span><span class="line"><span class="cl">  System ID             
</span></span><span class="line"><span class="cl">  Format                lvm2
</span></span><span class="line"><span class="cl">  Metadata Areas        <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Metadata Sequence No  <span class="m">3</span>
</span></span><span class="line"><span class="cl">  VG Access             read/write
</span></span><span class="line"><span class="cl">  VG Status             resizable
</span></span><span class="line"><span class="cl">  MAX LV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur LV                <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Open LV               <span class="m">2</span>
</span></span><span class="line"><span class="cl">  Max PV                <span class="m">0</span>
</span></span><span class="line"><span class="cl">  Cur PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  Act PV                <span class="m">1</span>
</span></span><span class="line"><span class="cl">  VG Size               &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  PE Size               4.00 MiB
</span></span><span class="line"><span class="cl">  Total PE              <span class="m">4863</span>
</span></span><span class="line"><span class="cl">  Alloc PE / Size       <span class="m">4863</span> / &lt;19.00 GiB
</span></span><span class="line"><span class="cl">  Free  PE / Size       <span class="m">0</span> / <span class="m">0</span>   
</span></span><span class="line"><span class="cl">  VG UUID               UiK3fy-FGOc-2fnP-C1Y6-JS0l-irEe-Sq3c4h
</span></span><span class="line"><span class="cl">   
</span></span></code></pre></div><h3 id="lab-13-5-add-a-vdo-logical-volume">Lab 13-5: Add a VDO Logical Volume</h3>
<p>initialize the sdf disk for use in LVM and add it to vgvdo1.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvcreate /dev/sdc</span>
</span></span><span class="line"><span class="cl">  Physical volume <span class="s2">&#34;/dev/sdc&#34;</span> successfully created.
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># sudo vgextend vgvdo1 /dev/sdc</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo1&#34;</span> successfully extended
</span></span></code></pre></div><p>Create a VDO logical volume named vdovol using the entire disk capacity.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvcreate --type vdo -n vdovol -l 100%FREE vgvdo1</span>
</span></span><span class="line"><span class="cl">WARNING: LVM2_member signature detected on /dev/vgvdo1/vpool0 at offset 536. Wipe it? <span class="o">[</span>y/n<span class="o">]</span>: y
</span></span><span class="line"><span class="cl">  Wiping LVM2_member signature on /dev/vgvdo1/vpool0.
</span></span><span class="line"><span class="cl">    Logical blocks defaulted to <span class="m">523108</span> blocks.
</span></span><span class="line"><span class="cl">    The VDO volume can address <span class="m">2</span> GB in <span class="m">1</span> data slab.
</span></span><span class="line"><span class="cl">    It can grow to address at most <span class="m">16</span> TB of physical storage in <span class="m">8192</span> slabs.
</span></span><span class="line"><span class="cl">    If a larger maximum size might be needed, use bigger slabs.
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;vdovol&#34;</span> created.
</span></span></code></pre></div><p>Use the vgs, pvs, lvs, and vgdisplay commands for verification.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB123ecea1-63467dee PVID RjcGRyHDIWY0OqAgfIHC93WT03Na1WoO last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID brKVLFEG3AoBzhWoso0Sa1gLYHgNZ4vL last seen on /dev/sdb1 not found.
</span></span><span class="line"><span class="cl">  VG     <span class="c1">#PV #LV #SN Attr   VSize   VFree  </span>
</span></span><span class="line"><span class="cl">  rhel     <span class="m">1</span>   <span class="m">2</span>   <span class="m">0</span> wz--n- &lt;19.00g      <span class="m">0</span> 
</span></span><span class="line"><span class="cl">  vgvdo1   <span class="m">2</span>   <span class="m">2</span>   <span class="m">0</span> wz--n-  &lt;5.24g 248.00m
</span></span></code></pre></div><h3 id="lab-13-6-reduce-and-remove-logical-volumes">Lab 13-6: Reduce and Remove Logical Volumes</h3>
<p><br>
reduce the size of vdovol logical volume to 80MB.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvreduce -L 80 /dev/vgvdo1/vdovol</span>
</span></span><span class="line"><span class="cl">  No file system found on /dev/vgvdo1/vdovol.
</span></span><span class="line"><span class="cl">  WARNING: /dev/vgvdo1/vdovol: Discarding 1.91 GiB at offset 83886080, please wait...
</span></span><span class="line"><span class="cl">  Size of logical volume vgvdo1/vdovol changed from 1.99 GiB <span class="o">(</span><span class="m">510</span> extents<span class="o">)</span> to 80.00 MiB <span class="o">(</span><span class="m">20</span> extents<span class="o">)</span>.
</span></span><span class="line"><span class="cl">  Logical volume vgvdo1/vdovol successfully resized.
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvs</span>
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID none last seen on /dev/sdd2 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB123ecea1-63467dee PVID RjcGRyHDIWY0OqAgfIHC93WT03Na1WoO last seen on /dev/sdd1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VBa5e3cbf7-10921e08 PVID qeP9dCevNnTy422I8p18NxDKQ2WyDodU last seen on /dev/sdf1 not found.
</span></span><span class="line"><span class="cl">  Devices file sys_wwid t10.ATA_VBOX_HARDDISK_VB428913dd-446a194f PVID brKVLFEG3AoBzhWoso0Sa1gLYHgNZ4vL last seen on /dev/sdb1 not found.
</span></span><span class="line"><span class="cl">  LV     VG     Attr       LSize   Pool   Origin Data%  Meta%  Move Log Cpy%Sync Convert
</span></span><span class="line"><span class="cl">  root   rhel   -wi-ao---- &lt;17.00g                                                      
</span></span><span class="line"><span class="cl">  swap   rhel   -wi-ao----   2.00g                                                      
</span></span><span class="line"><span class="cl">  vdovol vgvdo1 vwi-a-v---  80.00m vpool0        0.00                                   
</span></span><span class="line"><span class="cl">  vpool0 vgvdo1 dwi-------  &lt;5.00g               60.00                                  
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># </span>
</span></span></code></pre></div><p>erase logical volume vdovol.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lvremove /dev/vgvdo1/vdovol</span>
</span></span><span class="line"><span class="cl">Do you really want to remove active logical volume vgvdo1/vdovol? <span class="o">[</span>y/n<span class="o">]</span>: y
</span></span><span class="line"><span class="cl">  Logical volume <span class="s2">&#34;vdovol&#34;</span> successfully removed.
</span></span></code></pre></div><p>Confirm the deletion with vgs, pvs, lvs, and vgdisplay commands.</p>
<h3 id="lab-13-7-remove-volume-group-and-physical-volumes">Lab 13-7: Remove Volume Group and Physical Volumes</h3>
<p>\remove the volume group and uninitialized the physical volumes.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># vgremove vgvdo1</span>
</span></span><span class="line"><span class="cl">  Volume group <span class="s2">&#34;vgvdo1&#34;</span> successfully removed
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvremove /dev/sdc</span>
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sdc&#34;</span> successfully wiped.
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># pvremove /dev/sdf</span>
</span></span><span class="line"><span class="cl">  Labels on physical volume <span class="s2">&#34;/dev/sdf&#34;</span> successfully wiped.
</span></span></code></pre></div><p>Confirm the deletion with vgs, pvs, lvs, and vgdisplay commands.</p>
<p>Use the lsblk command and verify that the disks used for the LVM labs no longer show LVM information.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@server2 ~<span class="o">]</span><span class="c1"># lsblk</span>
</span></span><span class="line"><span class="cl">NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
</span></span><span class="line"><span class="cl">sda             8:0    <span class="m">0</span>   20G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">├─sda1          8:1    <span class="m">0</span>    1G  <span class="m">0</span> part /boot
</span></span><span class="line"><span class="cl">└─sda2          8:2    <span class="m">0</span>   19G  <span class="m">0</span> part 
</span></span><span class="line"><span class="cl">  ├─rhel-root 253:0    <span class="m">0</span>   17G  <span class="m">0</span> lvm  /
</span></span><span class="line"><span class="cl">  └─rhel-swap 253:1    <span class="m">0</span>    2G  <span class="m">0</span> lvm  <span class="o">[</span>SWAP<span class="o">]</span>
</span></span><span class="line"><span class="cl">sdb             8:16   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdc             8:32   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdd             8:48   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sde             8:64   <span class="m">0</span>  250M  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sdf             8:80   <span class="m">0</span>    5G  <span class="m">0</span> disk 
</span></span><span class="line"><span class="cl">sr0            11:0    <span class="m">1</span>  9.8G  <span class="m">0</span> rom  
</span></span></code></pre></div>
            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://github.com/davidvargasxyz" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
<a href="https://keybase.io/" target="_blank" rel="noopener noreferrer me"
    title="Keybase">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 76.3" version="1.1" fill="currentColor" stroke="none">
    <path
        d="M6.68 73.99c-.6-1.3-1.4-3.1-1.8-4l-.6-1.7-2 2.2-2 2.2-.2-4.2c-.3-6 .2-12.2 1.2-16.6 2.3-9.8 9.5-18.7 18.8-23.4l2.1-1-.5-1.5c-.3-.8-.6-2.5-.7-3.6l-.2-2.1-2.1-.2c-3.2-.3-4.9-1.2-6-3.5-.6-1.2-.6-1.4-.4-4.6.2-4.2.5-5.1 1.8-6.5 1.6-1.8 2.7-2.1 6.7-1.9 2.9.2 3.5.3 4.8.9.8.4 1.5.8 1.6.8.1 0 1-1.1 2.1-2.6l1.9-2.7 1.2.7c.7.4 1.5.9 1.9 1.1l.7.4-.6 1.5c-.3.8-.7 2.2-.8 2.9l-.2 1.4 1.7.2c6.1.6 10.7 4.3 12.4 9.9.5 1.8.5 5.3 0 7-.5 1.6-.5 1.7-.1 1.7.7 0 5.4 2.3 7.3 3.5 3.7 2.4 8 6.6 10.4 10.2 4.5 6.7 6.4 14 5.6 22-.4 4.8-1.3 8.6-2.9 12.3l-.6 1.4h-5l1.2-2.4c1.3-2.6 2.3-6.2 2.8-9.4.3-2.2.4-8.2.1-9.3l-.2-.7-1.3 1.4c-3.2 3.5-7.9 4.5-14.2 2.8-5.4-1.4-7.6-1.7-12.7-1.7-3.9 0-5.2.1-7.3.6-5.8 1.3-9.9 3.2-15.6 7.3-2.1 1.5-3.8 2.7-3.9 2.7-.1 0 .2-1 .6-2.3.4-1.3 1.1-3.4 1.5-4.8l.8-2.5-.9.9c-.5.5-1.9 1.9-3.1 3.2l-2.1 2.3.5 1.9c.6 2.5 2 5.6 3.5 7.9.6 1 1.1 1.8 1.1 1.9s-1.2.1-2.6.1h-2.6l-1.1-2.1zm8.8-24.2c4.8-5.1 8.7-9.2 8.8-9.2.1.1-.4 1.6-.9 3.3-3.3 10.4-4 12.4-3.9 12.5 0 0 1.2-.4 2.5-.9 8.5-3.7 18.4-4.2 28.9-1.4 4.7 1.2 6.5 1.2 8.8 0 1.3-.7 1.8-1.1 2.4-2.1 1.1-1.7 1.2-4.1.5-6.3-1.7-4.8-8.3-11-14.5-13.7-3.2-1.4-3.4-1.4-4.1-.7l-.6.6 2.6 3.2c1.4 1.7 2.9 3.6 3.1 4.1.6 1.2.7 3.1.1 4.3-.8 1.7-3.2 2.9-5.1 2.5-.8-.2-1.1-.1-1.9.5-2.2 1.6-4.6 1.2-6.6-1.2-1.6-1.8-2-2.7-2.1-4.5 0-.9-.3-2-.5-2.4-.3-.6-.4-1.3-.4-2.2l.1-1.4-1.3-.3c-1.8-.5-3.9-1.5-5.1-2.4-.6-.4-1.1-.8-1.3-.8s-1.5.6-2.9 1.3c-9.7 5-16 14.3-17 24.8-.1 1-.2 2.3-.3 2.8l-.1.9 1.1-1.1c.5-.5 4.9-5.1 9.7-10.2zm25.9-7.4c.9-.7 1.7-1.3 1.9-1.3.1 0 .4.3.7.7.5.8 1.4.8 1.8.1.3-.5.3-.6-5.6-7.8-3.5-4.3-4.2-5-4.7-5-1.2.1-.9 1 1 3.3l1.8 2.2-1 .8c-1.1 1-1.2 1.2-.5 1.8.5.5.6.4 1.6-.3l1.1-.7.7.6c.4.3.6.8.6.9 0 .2-.8.9-1.7 1.7-.9.7-1.6 1.5-1.6 1.7 0 .3.5 1.1 1.4 2.2.3.6.8.4 2.5-.9zm-10.3-14.2c.6-1.8 2.6-3.2 4.6-3.2 1.1 0 2.7.9 3.8 2.1l1 1.2.9-1.1c2.5-2.8 2.8-6.7.8-10.1-1.5-2.5-4.3-4-8.2-4.4-2.1-.2-2.6-.4-3.7-1.5l-.8-.8-.4.6c-.8 1.2-2.5 5.1-3 6.6-.7 2.3-.4 5.9.5 7.7.9 1.7 3.3 4 4 3.7.1.1.3-.3.5-.8zm-8.9-13.6c.2-.5.7-1.8 1.2-2.8.5-1 .9-2 .9-2.3 0-.9-1-1.3-3.7-1.5-2.4-.2-2.6-.1-3.1.4-.4.4-.6.9-.6 1.6 0 .6-.1 1.7-.2 2.6-.2 2.1.1 2.5 2.2 2.8 3.1.2 3 .2 3.3-.8zm-3.1-2.4c0-1.7.2-1.9 1.6-1.9h1.3v2.8h-2.8v-.9zm6.3 58.3c-.6-.6-.8-1-.8-2 0-1.9 1.1-3 2.9-3 1.7 0 2.9 1.2 2.9 2.9 0 1.8-1.1 2.8-3 2.9-1 0-1.4-.2-2-.8zm19.3.3a2.93 2.93 0 011.8-5.3c1.8 0 2.8 1.1 2.9 3 0 1.1-.1 1.4-.8 2s-1 .8-2 .8c-.9 0-1.5-.2-1.9-.5z" />
</svg>
</a>
<a href="index.xml" target="_blank" rel="noopener noreferrer me"
    title="Rss">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>
</a>
</div>
    <small class="footer_copyright">
        © 2024 David Vargas.
        Powered by <a href="https://github.com/hugo-sid/hugo-blog-awesome" target="_blank" rel="noopener">Hugo blog awesome</a>.
    </small>
</footer><a href="#" title="Go to top" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>


    






    
    <script async src="http://localhost:1313/js/main.js" ></script>

    

</body>
</html>
