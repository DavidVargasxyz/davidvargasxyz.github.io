<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name"> | My New Hugo Site</title>
<meta property="og:title" content=" | My New Hugo Site" />
<meta name="twitter:title" content=" | My New Hugo Site" />
<meta itemprop="name" content=" | My New Hugo Site" />
<meta name="application-name" content=" | My New Hugo Site" />
<meta property="og:site_name" content="" />

<meta name="description" content="">
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />

<meta property="og:locale" content="en-us" />
<meta name="language" content="en-us" />

  <link rel="alternate" hreflang="en" href="http://localhost:1313/networking/cisco/l2-etherchannel/" title="" />






<meta name="generator" content="Hugo 0.134.3">

    
    <meta property="og:url" content="http://localhost:1313/networking/cisco/l2-etherchannel/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="My New Hugo Site">
  <meta property="og:description" content="Layer 2 Etherchannel Manual Layer 2 EtherChannel Add the correct channel-group configuration command to each physical interface on each switch, all with the on keyword, and all with the same number. The on keyword tells the switches to place a physical interface into an EtherChannel, and The number identifies the PortChannel interface number that the interface should be a part of. EtherChannel, PortChannel, and Channel-group basically mean the same thing. channel-group number on the neighboring switch can differ. “Po1” is short for PortChannel1 Channel-group command cannot override the channel-protocol command Create the port channel:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="networking">


    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="My New Hugo Site">
  <meta name="twitter:description" content="Layer 2 Etherchannel Manual Layer 2 EtherChannel Add the correct channel-group configuration command to each physical interface on each switch, all with the on keyword, and all with the same number. The on keyword tells the switches to place a physical interface into an EtherChannel, and The number identifies the PortChannel interface number that the interface should be a part of. EtherChannel, PortChannel, and Channel-group basically mean the same thing. channel-group number on the neighboring switch can differ. “Po1” is short for PortChannel1 Channel-group command cannot override the channel-protocol command Create the port channel:">


    

    <link rel="canonical" href="http://localhost:1313/networking/cisco/l2-etherchannel/">
    <link href="/style.min.e390ba7da26222f4dc42a349955d76dbbe44e5ce2535a43de5a70633a0a9ec3c.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="http://localhost:1313/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    </head>
<body data-theme = "" class="notransition">

<script src="/js/theme.js"></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="http://localhost:1313/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title></title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title"></h1>
                
            </header>
            
            <div class="page-content">
                <h1 id="layer-2-etherchannel">Layer 2 Etherchannel</h1>
<h3 id="manual-layer-2-etherchannel">Manual Layer 2 EtherChannel</h3>
<ul>
<li>Add the correct channel-group configuration command to each physical interface on each switch, all with the on keyword, and all with the same number.</li>
<li>The on keyword tells the switches to place a physical interface into an EtherChannel, and</li>
<li>The number identifies the PortChannel interface number that the interface should be a part of.</li>
<li>EtherChannel, PortChannel, and Channel-group basically mean the same thing.</li>
<li>channel-group number on the neighboring switch can differ.</li>
<li>&ldquo;Po1&rdquo; is short for PortChannel1</li>
<li>Channel-group command cannot override the channel-protocol command</li>
</ul>
<p>Create the port channel:</p>
<pre tabindex="0"><code>int port-channel 1
</code></pre><p>Add an Ip address to the port channel:</p>
<pre tabindex="0"><code>ip address 10.0.0.5 255.255.255.0
</code></pre><p>Add the channel-group to each interface that should be in the channel:</p>
<pre tabindex="0"><code>channel-group 1 mode on
</code></pre><p>Display port channel status:</p>
<pre tabindex="0"><code>show etherchannel 
</code></pre><h3 id="dynamic-etherchannels">Dynamic EtherChannels</h3>
<p>Cisco switches also support two different configuration options that then use a dynamic protocol to negotiate whether a particular link becomes part of an EtherChannel or not. Basically, the configuration enables a protocol for a particular channel-group number. At that point, the switch can use the protocol to send messages to/from the neighboring switch and discover whether their configuration settings pass all checks. If a given physical link passes, the link is added to the EtherChannel and used; if not, it is placed in a down state, and not used, until the configuration inconsistency can be resolved.</p>
<h4 id="port-aggregation-protocol-pagp-cisco">Port Aggregation Protocol (PAgP) (Cisco)</h4>
<ul>
<li>support 8 links in a channel</li>
<li>uses &ldquo;desirable&rdquo; and &ldquo;auto&rdquo;</li>
<li>At least one of the two sides must be set to &ldquo;desirable&rdquo;</li>
</ul>
<h4 id="link-aggregation-control-protocol-lacp">Link Aggregation Control Protocol (LACP)</h4>
<ul>
<li>Support 16 links in a channel</li>
<li>Only 8 can be active at a time</li>
<li>inactive ports wait for any of the active ports to fail</li>
<li>Uses &ldquo;active&rdquo; and &ldquo;passive&rdquo;</li>
<li>At least one of the two sides must be set to &ldquo;active&rdquo;</li>
</ul>
<p>negotiate so that only links that pass the configuration checks are actually used in an EtherChannel.</p>
<p>To configure either protocol, a switch uses the channel-group configuration commands on each switch, but with a keyword that either means “use this protocol and begin negotiations” or “use this protocol and wait for the other switch to begin negotiations.”</p>
<p>Note:</p>
<pre tabindex="0"><code>Do not use the on parameter on one end, and either auto or desirable (or for LACP, active or passive) on the neighboring switch. The on option uses neither PAgP nor LACP, so a configuration that uses on, with PAgP or LACP options on the other end, would prevent the EtherChannel from working.
</code></pre><p>Show port channel 1 information:</p>
<pre tabindex="0"><code>show etherchannel 1 port-channel
</code></pre><h3 id="matching-physical-interface-settings">Matching Physical Interface Settings</h3>
<ul>
<li>Physical port configuration must match other ports in the channel or it will not be used.</li>
<li>Switches either use PAgP or LACP (if already in use) or use Cisco Discovery Protocol (CDP) if using manual configuration to check neighbors</li>
<li>All settings except the STP settings must match.</li>
<li>Shutdown/no shutdown the port channel interface to recover from err-disabled state. (This restarts the physical interfaces as well)</li>
</ul>
<p>Things that must match:</p>
<ul>
<li>Speed</li>
<li>Duplex</li>
<li>Access or Trunk setting</li>
<li>VLAN for access ports</li>
<li>Allowed VLAN list for trunk ports</li>
<li>Native VLAN for trunk ports</li>
<li>STP interface settings</li>
</ul>
<h3 id="etherchannel-load-distribution">Etherchannel Load Distribution</h3>
<ul>
<li>MAC addresses of the PortChannel interfaces are used instead of the physical ports.</li>
<li>The switch must decide out which specific physical port to use to forward the frame. (EtherChannel load distribution or load balancing)</li>
<li>MAC or IP based load balancing methods depending on the switch</li>
<li>Messages in a single application flow use the same link in the channel</li>
<li>integrates ASIC so that load distribution works as quick as forwarding any other frame</li>
<li>Uses all the active links in the EtherChannel, adjusting to the addition and removal of active links over time.</li>
<li>Balance the traffic across active links.</li>
<li>Balanced based on low order bits</li>
</ul>
<p>Define which method is used for load balancing:</p>
<pre tabindex="0"><code>port-channel load-balance method
</code></pre><p>Test which ports specific types of traffic would use based on source/destination mac address:</p>
<pre tabindex="0"><code>test etherchannel load-balance 
</code></pre>
            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
</div>
    <small class="footer_copyright">
        © 2024 .
        
    </small>
</footer>







    
    <script async src="http://localhost:1313/js/main.js" ></script>

    

</body>
</html>
