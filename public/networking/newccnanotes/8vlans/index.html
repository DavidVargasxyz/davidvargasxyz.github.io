<!DOCTYPE html>
<html lang="en-us"><head><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name"> | My New Hugo Site</title>
<meta property="og:title" content=" | My New Hugo Site" />
<meta name="twitter:title" content=" | My New Hugo Site" />
<meta itemprop="name" content=" | My New Hugo Site" />
<meta name="application-name" content=" | My New Hugo Site" />
<meta property="og:site_name" content="" />

<meta name="description" content="">
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />

<meta property="og:locale" content="en-us" />
<meta name="language" content="en-us" />

  <link rel="alternate" hreflang="en" href="https://example.org/networking/newccnanotes/8vlans/" title="" />






<meta name="generator" content="Hugo 0.134.3">

    
    <meta property="og:url" content="https://example.org/networking/newccnanotes/8vlans/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="My New Hugo Site">
  <meta property="og:description" content="1.0 Network Fundamentals1.13 Describe switching concepts
1.13.a MAC learning and aging1.13.b Frame switching
1.13.c Frame flooding1.13.d MAC address table
2.0 Network Access2.1 Configure and verify VLANs (normal range) spanning multiple switches
2.1.a Access ports (data and voice)2.1.b Default VLAN2.1.c Connectivity
2.2 Configure and verify interswitch connectivity2.2.a Trunk ports
2.2.b 802.1Q2.2.c Native VLAN
Virtual LAN Concepts
reasons for choosing to create smaller broadcast domains (VLANs):
-reduce CPU overhead on each devicereduce security risks different security policies per VLAN more flexible designs that -group users by department, or by groups that work together, instead of by physical location solve problems more quickly-failure domain for many problems is the same set of devices as those in the same broadcast domain reduce the workload for the Spanning Tree Protocol (STP) -by limiting a VLAN to a single access switch
802.1q and ISL
802.1Q -inserts a 4-byte 802.1Q VLAN header into the Ethernet header
12 - bit VLAN ID field inside the 802.1Q header –supports a theoretical maximum of 212 (4096) VLANs, but in practice it supports a maximum of 4094. Both 802.1Q and ISL use 12 bits to tag the VLAN ID, withtwo reserved values [0 and 4095]. 802.1q header includes Type, priority, Flag, Vlan ID
normal–1 to 1005. all switches can use-range
Only some switches can use 1006 to 4094
depends on the configuration of the VLAN Trunking Protocol (VTP) Extended range Cisco switches break the range of VLAN IDs (1–4094) into the normal range and the extended range. 231852&#43; 802.1Q simply does not add an 802.1Q header to frames in the native VLAN
#show vlan brief
VLAN Trunking Protocol (VTP)
vtp mode transparent vtp mode off -The server switches can configure VLANs in the standard range only (1The client switches cannot configure VLANs. –1005). Both servers and clients may be learning new VLANs from other switches and seeing their VLANs deleted by other switches because of VTP. If your switch usesVTP server or client mode show running - does not list any vlan commands - confi g show vtp status If possible to learn more about VTP for other purposes.in the lab, switch to disable VTP and ignore VTP for your switch configuration practice until you decide negotiate ISL or 802.1q If both switches support both protocols, they use ISL; -otherwise, they use the protocol that both support. Dynamic Trunking Protocol (DTP). switchport trunk encapsulation {dot1q | isl | negotiate} - configure the type or allow DTP to negotiate the type. Access-always access trunk-always trunk dynamic desirable--initiates negotiation messages and responds to negotiation messagesAccess if other side is access, otherwise trunk dynamic auto-passively waits to receive trunk negotiation messages VLAN Trunking Configuration">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="networking">


    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="My New Hugo Site">
  <meta name="twitter:description" content="1.0 Network Fundamentals1.13 Describe switching concepts
1.13.a MAC learning and aging1.13.b Frame switching
1.13.c Frame flooding1.13.d MAC address table
2.0 Network Access2.1 Configure and verify VLANs (normal range) spanning multiple switches
2.1.a Access ports (data and voice)2.1.b Default VLAN2.1.c Connectivity
2.2 Configure and verify interswitch connectivity2.2.a Trunk ports
2.2.b 802.1Q2.2.c Native VLAN
Virtual LAN Concepts
reasons for choosing to create smaller broadcast domains (VLANs):
-reduce CPU overhead on each devicereduce security risks different security policies per VLAN more flexible designs that -group users by department, or by groups that work together, instead of by physical location solve problems more quickly-failure domain for many problems is the same set of devices as those in the same broadcast domain reduce the workload for the Spanning Tree Protocol (STP) -by limiting a VLAN to a single access switch
802.1q and ISL
802.1Q -inserts a 4-byte 802.1Q VLAN header into the Ethernet header
12 - bit VLAN ID field inside the 802.1Q header –supports a theoretical maximum of 212 (4096) VLANs, but in practice it supports a maximum of 4094. Both 802.1Q and ISL use 12 bits to tag the VLAN ID, withtwo reserved values [0 and 4095]. 802.1q header includes Type, priority, Flag, Vlan ID
normal–1 to 1005. all switches can use-range
Only some switches can use 1006 to 4094
depends on the configuration of the VLAN Trunking Protocol (VTP) Extended range Cisco switches break the range of VLAN IDs (1–4094) into the normal range and the extended range. 231852&#43; 802.1Q simply does not add an 802.1Q header to frames in the native VLAN
#show vlan brief
VLAN Trunking Protocol (VTP)
vtp mode transparent vtp mode off -The server switches can configure VLANs in the standard range only (1The client switches cannot configure VLANs. –1005). Both servers and clients may be learning new VLANs from other switches and seeing their VLANs deleted by other switches because of VTP. If your switch usesVTP server or client mode show running - does not list any vlan commands - confi g show vtp status If possible to learn more about VTP for other purposes.in the lab, switch to disable VTP and ignore VTP for your switch configuration practice until you decide negotiate ISL or 802.1q If both switches support both protocols, they use ISL; -otherwise, they use the protocol that both support. Dynamic Trunking Protocol (DTP). switchport trunk encapsulation {dot1q | isl | negotiate} - configure the type or allow DTP to negotiate the type. Access-always access trunk-always trunk dynamic desirable--initiates negotiation messages and responds to negotiation messagesAccess if other side is access, otherwise trunk dynamic auto-passively waits to receive trunk negotiation messages VLAN Trunking Configuration">


    

    <link rel="canonical" href="https://example.org/networking/newccnanotes/8vlans/">
    <link href="/style.min.e390ba7da26222f4dc42a349955d76dbbe44e5ce2535a43de5a70633a0a9ec3c.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="https://example.org/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    
    </head>
<body data-theme = "" class="notransition">

<script src="/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js" integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="https://example.org/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title></title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title"></h1>
                
            </header>
            
            <div class="page-content">
                <p>1.0 Network Fundamentals1.13 Describe switching concepts<br>
1.13.a MAC learning and aging1.13.b Frame switching<br>
1.13.c Frame flooding1.13.d MAC address table<br>
2.0 Network Access2.1 Configure and verify VLANs (normal range) spanning multiple switches<br>
2.1.a Access ports (data and voice)2.1.b Default VLAN2.1.c Connectivity<br>
2.2 Configure and verify interswitch connectivity2.2.a Trunk ports<br>
2.2.b 802.1Q2.2.c Native VLAN<br>
Virtual LAN Concepts<br>
reasons for choosing to create smaller broadcast domains (VLANs):</p>
<ul>
<li>-reduce CPU overhead on each devicereduce security risks</li>
<li>different security policies per VLAN</li>
<li>more flexible designs that -group users by department, or by groups that work together, instead of by physical location</li>
<li>solve problems more quickly-failure domain for many problems is the same set of devices as those in the same broadcast domain</li>
<li>reduce the workload for the Spanning Tree Protocol (STP) -by limiting a VLAN to a single access switch<br>
802.1q and ISL<br>
802.1Q -inserts a 4-byte 802.1Q VLAN header into the Ethernet header<br>
12 - bit VLAN ID field inside the 802.1Q header &ndash;supports a theoretical maximum of 212 (4096) VLANs, but in practice it supports a maximum of 4094. Both 802.1Q and ISL use 12 bits to tag the VLAN ID, withtwo reserved values [0 and 4095].</li>
<li>802.1q header includes Type, priority, Flag, Vlan ID<br>
normal&ndash;1 to 1005. all switches can use-range<br>
Only some switches can use 1006 to 4094<br>
depends on the configuration of the VLAN Trunking Protocol (VTP)</li>
</ul>
<pre tabindex="0"><code>Extended range
</code></pre><ul>
<li>Cisco switches break the range of VLAN IDs (1–4094) into the normal range and the extended range.</li>
</ul>
<pre tabindex="0"><code>231852+
</code></pre><ul>
<li>802.1Q simply does not add an 802.1Q header to frames in the native VLAN<br>
<strong>#show vlan brief</strong><br>
VLAN Trunking Protocol (VTP)<br>
<strong>vtp mode transparent vtp mode off</strong></li>
<li>-The server switches can configure VLANs in the standard range only (1The client switches cannot configure VLANs. –1005).</li>
<li>Both servers and clients may be learning new VLANs from other switches and seeing their VLANs deleted by other switches because of VTP.</li>
</ul>
<pre tabindex="0"><code>If your switch usesVTP server or client mode
</code></pre><pre tabindex="0"><code>show running - does not list any vlan commands - confi g
</code></pre><pre tabindex="0"><code>show vtp status
</code></pre><ul>
<li>If possible to learn more about VTP for other purposes.in the lab, switch to disable VTP and ignore VTP for your switch configuration practice until you decide
<ul>
<li>negotiate ISL or 802.1q</li>
<li>If both switches support both protocols, they use ISL; -otherwise, they use the protocol that both support.</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>Dynamic Trunking Protocol (DTP).
switchport trunk encapsulation {dot1q | isl | negotiate} - configure the type or allow DTP to negotiate the type.
Access-always access
trunk-always trunk
dynamic desirable--initiates negotiation messages and responds to negotiation messagesAccess if other side is access, otherwise trunk
dynamic auto-passively waits to receive trunk negotiation messages
</code></pre><p>VLAN Trunking Configuration</p>
<pre tabindex="0"><code>Quick Commands
#show vtp status
</code></pre><pre tabindex="0"><code>VTP
Trunking
#switchport trunk encapsulation dot1q/isl/negotiate#switchport mode access/trunk/dynamic desirable/dynamic auto
#switchport trunk allowed vlan#show interfaces trunk output
#show interfaces trunk#show interfaces switchport
Voice#switchport trunk native vlan 2
#show int f0/4 trunk#switchport voice vlan 13
VLAN
#show vlan brief#show vlan
#show spanning-tree vlan 2
</code></pre><ol start="8">
<li>VLANSFriday, July 2, 2021 2:50 PM</li>
</ol>
<ul>
<li>-passively waits to receive trunk negotiation messagesdefault setting</li>
<li>-access if both ends use thistrunk if other end is trunk or Dynamic desirable</li>
<li>On a switch that supports both ISL and 802.1Q, this value would by default list “negotiate,” to mean that the type of encapsulation is negotiated.</li>
<li>Cisco recommends disabling trunk negotiation on most ports for better security<br>
<strong>(config</strong> Disable DTP <strong>- if) switchport nonegotiate</strong><br>
Data and Voice VLAN Concepts<br>
<strong>switchport voice</strong> - -can configure on the same access port that has a normal vlan assignedCDP must be enabled* <em>vlan 11</em></li>
<li>Voice Data is tagged with 802.1Q header</li>
<li>-see the voice vlanadministrative and operational mode</li>
<li>access mode vlan</li>
</ul>
<pre tabindex="0"><code>show interfaces FastEthernet 0/4 switchport
</code></pre><p><strong>show interfaces trunkshow interfaces</strong> <em>f0/4</em> <strong>trunk</strong></p>
<ul>
<li>
<p>vlans allowed on trunk&ndash; (^1) minus vlans removed by the - (^4094) <strong>switchport trunk allowed</strong> command</p>
</li>
<li>
<p>vlans allowed and active in management domain&ndash;the first list minus vlans that are not configuredminus vlans that are <strong>shutdown</strong></p>
</li>
<li>
<p>vlans in spanning tree forwarding state and not (VTP) pruned&ndash;minus vlans that are in a STP blocking stateminus vlans that are VTP pruned</p>
</li>
<li>
<p><strong>Show interfaces trunk</strong> will not show the voice VLAN as a trunk, it will only show it if you specify the interface.<br>
Confirm that all VLANs are both defined and active. <strong>show vlanShow vlan brief</strong><br>
Check the allowed VLAN lists on both ends of each trunk<br>
<strong>show interfaces</strong> - lists information about currently operational trunks <em>interface-id</em> <strong>trunk</strong><br>
<strong>#switchport trunk allowed vlan</strong><br>
<strong>Show vlan</strong> - (does the vlan exist and is it active?</p>
</li>
<li>
<p>Has the vlan been vtp pruned?</p>
</li>
<li>
<p>Is the vlan in an STP forwarding state? <strong>#show spanning-tree</strong> <em>vlan 2</em><br>
Check for incorrect trunk configuration settings that result in one switch operating as a trunk, with the neighboring switch not operating as a trunk.<br>
<strong>#show interfaces trunk</strong><br>
<strong>#show interfaces switchport.</strong> The trunk is in an STP forwarding state in that VLAN (as also seen in the -check administrative and operational modes <strong>show spanning-tree vlan</strong> <em>vlan-id</em></p>
</li>
<li>
<p>command). <strong>#switchport trunk allowed vlan</strong></p>
</li>
<li>
<p>DTP on one switch but not the other<br>
Check the native VLAN settings on both ends</p>
<ul>
<li>Native vlan must match on both switches. <strong>#switchport trunk native vlan</strong> <em>2</em></li>
<li>vlan hoppinga frame being sent in one vlan but then being believed to be in a different vlan</li>
</ul>
</li>
</ul>
<p>Troubleshooting VLANS and VLAN trunks</p>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
</div>
    <small class="footer_copyright">
        © 2024 .
        
    </small>
</footer>







    
    <script src="https://example.org/js/main.min.4ee188e1744c19816e95a540b2650ed9f033ea0371e74eac8e717355cfca8741.js" integrity="sha256-TuGI4XRMGYFulaVAsmUO2fAz6gNx506sjnFzVc/Kh0E="></script>

    

</body>
</html>
